function is(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Cf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sf=is(Cf);function qa(e){return!!e||e===""}function ss(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=wt(r)?Nf(r):ss(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(wt(e))return e;if(gt(e))return e}}const _f=/;(?![^(]*\))/g,Af=/:(.+)/;function Nf(e){const t={};return e.split(_f).forEach(n=>{if(n){const r=n.split(Af);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function os(e){let t="";if(wt(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const r=os(e[n]);r&&(t+=r+" ")}else if(gt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const z0=e=>e==null?"":V(e)||gt(e)&&(e.toString===za||!$(e.toString))?JSON.stringify(e,Ba,2):String(e),Ba=(e,t)=>t&&t.__v_isRef?Ba(e,t.value):sn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Wa(t)?{[`Set(${t.size})`]:[...t.values()]}:gt(t)&&!V(t)&&!Ga(t)?String(t):t,et={},rn=[],ee=()=>{},Df=()=>!1,xf=/^on[^a-z]/,Mr=e=>xf.test(e),as=e=>e.startsWith("onUpdate:"),_t=Object.assign,Ha=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Of=Object.prototype.hasOwnProperty,H=(e,t)=>Of.call(e,t),V=Array.isArray,sn=e=>Pr(e)==="[object Map]",Wa=e=>Pr(e)==="[object Set]",$=e=>typeof e=="function",wt=e=>typeof e=="string",us=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",Ka=e=>gt(e)&&$(e.then)&&$(e.catch),za=Object.prototype.toString,Pr=e=>za.call(e),Rf=e=>Pr(e).slice(8,-1),Ga=e=>Pr(e)==="[object Object]",ls=e=>wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kr=is(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mf=/-(\w)/g,on=Lr(e=>e.replace(Mf,(t,n)=>n?n.toUpperCase():"")),Pf=/\B([A-Z])/g,an=Lr(e=>e.replace(Pf,"-$1").toLowerCase()),Ya=Lr(e=>e.charAt(0).toUpperCase()+e.slice(1)),cs=Lr(e=>e?`on${Ya(e)}`:""),Un=(e,t)=>!Object.is(e,t),hs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Fr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},kf=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xa;const Lf=()=>Xa||(Xa=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Oe;const Ur=[];class Ff{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Oe&&(this.parent=Oe,this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Ur.push(this),Oe=this)}off(){this.active&&(Ur.pop(),Oe=Ur[Ur.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function Uf(e,t){t=t||Oe,t&&t.active&&t.effects.push(e)}const fs=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Qa=e=>(e.w&Ee)>0,Ja=e=>(e.n&Ee)>0,Vf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ee},$f=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Qa(i)&&!Ja(i)?i.delete(e):t[n++]=i,i.w&=~Ee,i.n&=~Ee}t.length=n}},ds=new WeakMap;let Vn=0,Ee=1;const ps=30,$n=[];let Re;const Me=Symbol(""),gs=Symbol("");class ms{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],Uf(this,r)}run(){if(!this.active)return this.fn();if(!$n.includes(this))try{return $n.push(Re=this),jf(),Ee=1<<++Vn,Vn<=ps?Vf(this):Za(this),this.fn()}finally{Vn<=ps&&$f(this),Ee=1<<--Vn,Pe(),$n.pop();const t=$n.length;Re=t>0?$n[t-1]:void 0}}stop(){this.active&&(Za(this),this.onStop&&this.onStop(),this.active=!1)}}function Za(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let un=!0;const ys=[];function ln(){ys.push(un),un=!1}function jf(){ys.push(un),un=!0}function Pe(){const e=ys.pop();un=e===void 0?!0:e}function Ht(e,t,n){if(!tu())return;let r=ds.get(e);r||ds.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=fs()),eu(i)}function tu(){return un&&Re!==void 0}function eu(e,t){let n=!1;Vn<=ps?Ja(e)||(e.n|=Ee,n=!Qa(e)):n=!e.has(Re),n&&(e.add(Re),Re.deps.push(e))}function de(e,t,n,r,i,s){const o=ds.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&V(e))o.forEach((u,l)=>{(l==="length"||l>=r)&&a.push(u)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":V(e)?ls(n)&&a.push(o.get("length")):(a.push(o.get(Me)),sn(e)&&a.push(o.get(gs)));break;case"delete":V(e)||(a.push(o.get(Me)),sn(e)&&a.push(o.get(gs)));break;case"set":sn(e)&&a.push(o.get(Me));break}if(a.length===1)a[0]&&vs(a[0]);else{const u=[];for(const l of a)l&&u.push(...l);vs(fs(u))}}function vs(e,t){for(const n of V(e)?e:[...e])(n!==Re||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const qf=is("__proto__,__v_isRef,__isVue"),nu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(us)),Bf=ws(),Hf=ws(!1,!0),Wf=ws(!0),ru=Kf();function Kf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=K(this);for(let s=0,o=this.length;s<o;s++)Ht(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(K)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ln();const r=K(this)[t].apply(this,n);return Pe(),r}}),e}function ws(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_raw"&&s===(e?t?ud:fu:t?hu:cu).get(r))return r;const o=V(r);if(!e&&o&&H(ru,i))return Reflect.get(ru,i,s);const a=Reflect.get(r,i,s);return(us(i)?nu.has(i):qf(i))||(e||Ht(r,"get",i),t)?a:$t(a)?!o||!ls(i)?a.value:a:gt(a)?e?du(a):bs(a):a}}const zf=iu(),Gf=iu(!0);function iu(e=!1){return function(n,r,i,s){let o=n[r];if(!e&&(i=K(i),o=K(o),!V(n)&&$t(o)&&!$t(i)))return o.value=i,!0;const a=V(n)&&ls(r)?Number(r)<n.length:H(n,r),u=Reflect.set(n,r,i,s);return n===K(s)&&(a?Un(i,o)&&de(n,"set",r,i):de(n,"add",r,i)),u}}function Yf(e,t){const n=H(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&de(e,"delete",t,void 0),r}function Xf(e,t){const n=Reflect.has(e,t);return(!us(t)||!nu.has(t))&&Ht(e,"has",t),n}function Qf(e){return Ht(e,"iterate",V(e)?"length":Me),Reflect.ownKeys(e)}const su={get:Bf,set:zf,deleteProperty:Yf,has:Xf,ownKeys:Qf},Jf={get:Wf,set(e,t){return!0},deleteProperty(e,t){return!0}},Zf=_t({},su,{get:Hf,set:Gf}),Es=e=>e,Vr=e=>Reflect.getPrototypeOf(e);function $r(e,t,n=!1,r=!1){e=e.__v_raw;const i=K(e),s=K(t);t!==s&&!n&&Ht(i,"get",t),!n&&Ht(i,"get",s);const{has:o}=Vr(i),a=r?Es:n?Cs:jn;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function jr(e,t=!1){const n=this.__v_raw,r=K(n),i=K(e);return e!==i&&!t&&Ht(r,"has",e),!t&&Ht(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function qr(e,t=!1){return e=e.__v_raw,!t&&Ht(K(e),"iterate",Me),Reflect.get(e,"size",e)}function ou(e){e=K(e);const t=K(this);return Vr(t).has.call(t,e)||(t.add(e),de(t,"add",e,e)),this}function au(e,t){t=K(t);const n=K(this),{has:r,get:i}=Vr(n);let s=r.call(n,e);s||(e=K(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?Un(t,o)&&de(n,"set",e,t):de(n,"add",e,t),this}function uu(e){const t=K(this),{has:n,get:r}=Vr(t);let i=n.call(t,e);i||(e=K(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&de(t,"delete",e,void 0),s}function lu(){const e=K(this),t=e.size!==0,n=e.clear();return t&&de(e,"clear",void 0,void 0),n}function Br(e,t){return function(r,i){const s=this,o=s.__v_raw,a=K(o),u=t?Es:e?Cs:jn;return!e&&Ht(a,"iterate",Me),o.forEach((l,c)=>r.call(i,u(l),u(c),s))}}function Hr(e,t,n){return function(...r){const i=this.__v_raw,s=K(i),o=sn(s),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,l=i[e](...r),c=n?Es:t?Cs:jn;return!t&&Ht(s,"iterate",u?gs:Me),{next(){const{value:f,done:p}=l.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function Te(e){return function(...t){return e==="delete"?!1:this}}function td(){const e={get(s){return $r(this,s)},get size(){return qr(this)},has:jr,add:ou,set:au,delete:uu,clear:lu,forEach:Br(!1,!1)},t={get(s){return $r(this,s,!1,!0)},get size(){return qr(this)},has:jr,add:ou,set:au,delete:uu,clear:lu,forEach:Br(!1,!0)},n={get(s){return $r(this,s,!0)},get size(){return qr(this,!0)},has(s){return jr.call(this,s,!0)},add:Te("add"),set:Te("set"),delete:Te("delete"),clear:Te("clear"),forEach:Br(!0,!1)},r={get(s){return $r(this,s,!0,!0)},get size(){return qr(this,!0)},has(s){return jr.call(this,s,!0)},add:Te("add"),set:Te("set"),delete:Te("delete"),clear:Te("clear"),forEach:Br(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Hr(s,!1,!1),n[s]=Hr(s,!0,!1),t[s]=Hr(s,!1,!0),r[s]=Hr(s,!0,!0)}),[e,n,t,r]}const[ed,nd,rd,id]=td();function Ts(e,t){const n=t?e?id:rd:e?nd:ed;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(H(n,i)&&i in r?n:r,i,s)}const sd={get:Ts(!1,!1)},od={get:Ts(!1,!0)},ad={get:Ts(!0,!1)},cu=new WeakMap,hu=new WeakMap,fu=new WeakMap,ud=new WeakMap;function ld(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cd(e){return e.__v_skip||!Object.isExtensible(e)?0:ld(Rf(e))}function bs(e){return e&&e.__v_isReadonly?e:Is(e,!1,su,sd,cu)}function hd(e){return Is(e,!1,Zf,od,hu)}function du(e){return Is(e,!0,Jf,ad,fu)}function Is(e,t,n,r,i){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=cd(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function cn(e){return pu(e)?cn(e.__v_raw):!!(e&&e.__v_isReactive)}function pu(e){return!!(e&&e.__v_isReadonly)}function gu(e){return cn(e)||pu(e)}function K(e){const t=e&&e.__v_raw;return t?K(t):e}function mu(e){return Fr(e,"__v_skip",!0),e}const jn=e=>gt(e)?bs(e):e,Cs=e=>gt(e)?du(e):e;function yu(e){tu()&&(e=K(e),e.dep||(e.dep=fs()),eu(e.dep))}function vu(e,t){e=K(e),e.dep&&vs(e.dep)}function $t(e){return Boolean(e&&e.__v_isRef===!0)}function G0(e){return fd(e,!1)}function fd(e,t){return $t(e)?e:new dd(e,t)}class dd{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:K(t),this._value=n?t:jn(t)}get value(){return yu(this),this._value}set value(t){t=this._shallow?t:K(t),Un(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:jn(t),vu(this))}}function pd(e){return $t(e)?e.value:e}const gd={get:(e,t,n)=>pd(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function wu(e){return cn(e)?e:new Proxy(e,gd)}class md{constructor(t,n,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ms(t,()=>{this._dirty||(this._dirty=!0,vu(this))}),this.__v_isReadonly=r}get value(){const t=K(this);return yu(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function yd(e,t){let n,r;const i=$(e);return i?(n=e,r=ee):(n=e.get,r=e.set),new md(n,r,i||!r)}Promise.resolve();function vd(e,t,...n){const r=e.vnode.props||et;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=r[c]||et;p?i=n.map(m=>m.trim()):f&&(i=n.map(kf))}let a,u=r[a=cs(t)]||r[a=cs(on(t))];!u&&s&&(u=r[a=cs(an(t))]),u&&Gt(u,e,6,i);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Gt(l,e,6,i)}}function Eu(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!$(e)){const u=l=>{const c=Eu(l,t,!0);c&&(a=!0,_t(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!a?(r.set(e,null),null):(V(s)?s.forEach(u=>o[u]=null):_t(o,s),r.set(e,o),o)}function Ss(e,t){return!e||!Mr(t)?!1:(t=t.slice(2).replace(/Once$/,""),H(e,t[0].toLowerCase()+t.slice(1))||H(e,an(t))||H(e,t))}let ie=null,Tu=null;function Wr(e){const t=ie;return ie=e,Tu=e&&e.type.__scopeId||null,t}function wd(e,t=ie,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Wu(-1);const s=Wr(t),o=e(...i);return Wr(s),r._d&&Wu(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function _s(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:u,emit:l,render:c,renderCache:f,data:p,setupState:m,ctx:C,inheritAttrs:P}=e;let _,D;const G=Wr(e);try{if(n.shapeFlag&4){const nt=i||r;_=ae(c.call(nt,nt,f,s,m,p,C)),D=u}else{const nt=t;_=ae(nt.length>1?nt(s,{attrs:u,slots:a,emit:l}):nt(s,null)),D=t.props?u:Ed(u)}}catch(nt){qn.length=0,ti(nt,e,1),_=Ve(be)}let Y=_;if(D&&P!==!1){const nt=Object.keys(D),{shapeFlag:xt}=Y;nt.length&&xt&(1|6)&&(o&&nt.some(as)&&(D=Td(D,o)),Y=hn(Y,D))}return n.dirs&&(Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&(Y.transition=n.transition),_=Y,Wr(G),_}const Ed=e=>{let t;for(const n in e)(n==="class"||n==="style"||Mr(n))&&((t||(t={}))[n]=e[n]);return t},Td=(e,t)=>{const n={};for(const r in e)(!as(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function bd(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:u}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?bu(r,o,l):!!o;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!Ss(l,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?bu(r,o,l):!0:!!o;return!1}function bu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Ss(n,s))return!0}return!1}function Id({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Cd=e=>e.__isSuspense;function Sd(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Sp(e)}function _d(e,t){if(Et){let n=Et.provides;const r=Et.parent&&Et.parent.provides;r===n&&(n=Et.provides=Object.create(r)),n[e]=t}}function As(e,t,n=!1){const r=Et||ie;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&$(t)?t.call(r.proxy):t}}function Ad(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Au(()=>{e.isMounted=!0}),Nu(()=>{e.isUnmounting=!0}),e}const zt=[Function,Array],Nd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zt,onEnter:zt,onAfterEnter:zt,onEnterCancelled:zt,onBeforeLeave:zt,onLeave:zt,onAfterLeave:zt,onLeaveCancelled:zt,onBeforeAppear:zt,onAppear:zt,onAfterAppear:zt,onAppearCancelled:zt},setup(e,{slots:t}){const n=pp(),r=Ad();let i;return()=>{const s=t.default&&Su(t.default(),!0);if(!s||!s.length)return;const o=K(e),{mode:a}=o,u=s[0];if(r.isLeaving)return Ds(u);const l=Cu(u);if(!l)return Ds(u);const c=Ns(l,o,r,n);xs(l,c);const f=n.subTree,p=f&&Cu(f);let m=!1;const{getTransitionKey:C}=l.type;if(C){const P=C();i===void 0?i=P:P!==i&&(i=P,m=!0)}if(p&&p.type!==be&&(!Ue(l,p)||m)){const P=Ns(p,o,r,n);if(xs(p,P),a==="out-in")return r.isLeaving=!0,P.afterLeave=()=>{r.isLeaving=!1,n.update()},Ds(u);a==="in-out"&&l.type!==be&&(P.delayLeave=(_,D,G)=>{const Y=Iu(r,p);Y[String(p.key)]=p,_._leaveCb=()=>{D(),_._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=G})}return u}}},Dd=Nd;function Iu(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ns(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:C,onBeforeAppear:P,onAppear:_,onAfterAppear:D,onAppearCancelled:G}=t,Y=String(e.key),nt=Iu(n,e),xt=(Z,vt)=>{Z&&Gt(Z,r,9,vt)},ne={mode:s,persisted:o,beforeEnter(Z){let vt=a;if(!n.isMounted)if(i)vt=P||a;else return;Z._leaveCb&&Z._leaveCb(!0);const pt=nt[Y];pt&&Ue(e,pt)&&pt.el._leaveCb&&pt.el._leaveCb(),xt(vt,[Z])},enter(Z){let vt=u,pt=l,Jt=c;if(!n.isMounted)if(i)vt=_||u,pt=D||l,Jt=G||c;else return;let qt=!1;const Zt=Z._enterCb=Ze=>{qt||(qt=!0,Ze?xt(Jt,[Z]):xt(pt,[Z]),ne.delayedLeave&&ne.delayedLeave(),Z._enterCb=void 0)};vt?(vt(Z,Zt),vt.length<=1&&Zt()):Zt()},leave(Z,vt){const pt=String(e.key);if(Z._enterCb&&Z._enterCb(!0),n.isUnmounting)return vt();xt(f,[Z]);let Jt=!1;const qt=Z._leaveCb=Zt=>{Jt||(Jt=!0,vt(),Zt?xt(C,[Z]):xt(m,[Z]),Z._leaveCb=void 0,nt[pt]===e&&delete nt[pt])};nt[pt]=e,p?(p(Z,qt),p.length<=1&&qt()):qt()},clone(Z){return Ns(Z,t,n,r)}};return ne}function Ds(e){if(Kr(e))return e=hn(e),e.children=null,e}function Cu(e){return Kr(e)?e.children?e.children[0]:void 0:e}function xs(e,t){e.shapeFlag&6&&e.component?xs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Su(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const s=e[i];s.type===oe?(s.patchFlag&128&&r++,n=n.concat(Su(s.children,t))):(t||s.type!==be)&&n.push(s)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Y0(e){return $(e)?{setup:e,name:e.name}:e}const Os=e=>!!e.type.__asyncLoader,Kr=e=>e.type.__isKeepAlive;function xd(e,t){_u(e,"a",t)}function Od(e,t){_u(e,"da",t)}function _u(e,t,n=Et){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}e()});if(zr(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Kr(i.parent.vnode)&&Rd(r,t,n,i),i=i.parent}}function Rd(e,t,n,r){const i=zr(t,e,r,!0);Du(()=>{Ha(r[t],i)},n)}function zr(e,t,n=Et,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ln(),fn(n);const a=Gt(t,n,e,o);return $e(),Pe(),a});return r?i.unshift(s):i.push(s),s}}const pe=e=>(t,n=Et)=>(!Zr||e==="sp")&&zr(e,t,n),Md=pe("bm"),Au=pe("m"),Pd=pe("bu"),kd=pe("u"),Nu=pe("bum"),Du=pe("um"),Ld=pe("sp"),Fd=pe("rtg"),Ud=pe("rtc");function Vd(e,t=Et){zr("ec",e,t)}let Rs=!0;function $d(e){const t=Ru(e),n=e.proxy,r=e.ctx;Rs=!1,t.beforeCreate&&xu(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:u,inject:l,created:c,beforeMount:f,mounted:p,beforeUpdate:m,updated:C,activated:P,deactivated:_,beforeDestroy:D,beforeUnmount:G,destroyed:Y,unmounted:nt,render:xt,renderTracked:ne,renderTriggered:Z,errorCaptured:vt,serverPrefetch:pt,expose:Jt,inheritAttrs:qt,components:Zt,directives:Ze,filters:La}=t;if(l&&jd(l,r,null,e.appContext.config.unwrapInjectedRef),o)for(const ut in o){const rt=o[ut];$(rt)&&(r[ut]=rt.bind(n))}if(i){const ut=i.call(n,n);gt(ut)&&(e.data=bs(ut))}if(Rs=!0,s)for(const ut in s){const rt=s[ut],he=$(rt)?rt.bind(n,n):$(rt.get)?rt.get.bind(n,n):ee,es=!$(rt)&&$(rt.set)?rt.set.bind(n):ee,Ln=yd({get:he,set:es});Object.defineProperty(r,ut,{enumerable:!0,configurable:!0,get:()=>Ln.value,set:tn=>Ln.value=tn})}if(a)for(const ut in a)Ou(a[ut],r,n,ut);if(u){const ut=$(u)?u.call(n):u;Reflect.ownKeys(ut).forEach(rt=>{_d(rt,ut[rt])})}c&&xu(c,e,"c");function Vt(ut,rt){V(rt)?rt.forEach(he=>ut(he.bind(n))):rt&&ut(rt.bind(n))}if(Vt(Md,f),Vt(Au,p),Vt(Pd,m),Vt(kd,C),Vt(xd,P),Vt(Od,_),Vt(Vd,vt),Vt(Ud,ne),Vt(Fd,Z),Vt(Nu,G),Vt(Du,nt),Vt(Ld,pt),V(Jt))if(Jt.length){const ut=e.exposed||(e.exposed={});Jt.forEach(rt=>{Object.defineProperty(ut,rt,{get:()=>n[rt],set:he=>n[rt]=he})})}else e.exposed||(e.exposed={});xt&&e.render===ee&&(e.render=xt),qt!=null&&(e.inheritAttrs=qt),Zt&&(e.components=Zt),Ze&&(e.directives=Ze)}function jd(e,t,n=ee,r=!1){V(e)&&(e=Ms(e));for(const i in e){const s=e[i];let o;gt(s)?"default"in s?o=As(s.from||i,s.default,!0):o=As(s.from||i):o=As(s),$t(o)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function xu(e,t,n){Gt(V(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ou(e,t,n,r){const i=r.includes(".")?ol(n,r):()=>n[r];if(wt(e)){const s=t[e];$(s)&&Ks(i,s)}else if($(e))Ks(i,e.bind(n));else if(gt(e))if(V(e))e.forEach(s=>Ou(s,t,n,r));else{const s=$(e.handler)?e.handler.bind(n):t[e.handler];$(s)&&Ks(i,s,e)}}function Ru(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(l=>Gr(u,l,o,!0)),Gr(u,t,o)),s.set(t,u),u}function Gr(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Gr(e,s,n,!0),i&&i.forEach(o=>Gr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=qd[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const qd={data:Mu,props:ke,emits:ke,methods:ke,computed:ke,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:ke,directives:ke,watch:Hd,provide:Mu,inject:Bd};function Mu(e,t){return t?e?function(){return _t($(e)?e.call(this,this):e,$(t)?t.call(this,this):t)}:t:e}function Bd(e,t){return ke(Ms(e),Ms(t))}function Ms(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ot(e,t){return e?[...new Set([].concat(e,t))]:t}function ke(e,t){return e?_t(_t(Object.create(null),e),t):t}function Hd(e,t){if(!e)return t;if(!t)return e;const n=_t(Object.create(null),e);for(const r in t)n[r]=Ot(e[r],t[r]);return n}function Wd(e,t,n,r=!1){const i={},s={};Fr(s,Xr,1),e.propsDefaults=Object.create(null),Pu(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:hd(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Kd(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=K(i),[u]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];const m=t[p];if(u)if(H(s,p))m!==s[p]&&(s[p]=m,l=!0);else{const C=on(p);i[C]=Ps(u,a,C,m,e,!1)}else m!==s[p]&&(s[p]=m,l=!0)}}}else{Pu(e,t,i,s)&&(l=!0);let c;for(const f in a)(!t||!H(t,f)&&((c=an(f))===f||!H(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=Ps(u,a,f,void 0,e,!0)):delete i[f]);if(s!==a)for(const f in s)(!t||!H(t,f))&&(delete s[f],l=!0)}l&&de(e,"set","$attrs")}function Pu(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(kr(u))continue;const l=t[u];let c;i&&H(i,c=on(u))?!s||!s.includes(c)?n[c]=l:(a||(a={}))[c]=l:Ss(e.emitsOptions,u)||l!==r[u]&&(r[u]=l,o=!0)}if(s){const u=K(n),l=a||et;for(let c=0;c<s.length;c++){const f=s[c];n[f]=Ps(i,u,f,l[f],e,!H(l,f))}}return o}function Ps(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=H(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&$(u)){const{propsDefaults:l}=i;n in l?r=l[n]:(fn(i),r=l[n]=u.call(null,t),$e())}else r=u}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===an(n))&&(r=!0))}return r}function ku(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let u=!1;if(!$(e)){const c=f=>{u=!0;const[p,m]=ku(f,t,!0);_t(o,p),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!u)return r.set(e,rn),rn;if(V(s))for(let c=0;c<s.length;c++){const f=on(s[c]);Lu(f)&&(o[f]=et)}else if(s)for(const c in s){const f=on(c);if(Lu(f)){const p=s[c],m=o[f]=V(p)||$(p)?{type:p}:p;if(m){const C=Vu(Boolean,m.type),P=Vu(String,m.type);m[0]=C>-1,m[1]=P<0||C<P,(C>-1||H(m,"default"))&&a.push(f)}}}const l=[o,a];return r.set(e,l),l}function Lu(e){return e[0]!=="$"}function Fu(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Uu(e,t){return Fu(e)===Fu(t)}function Vu(e,t){return V(t)?t.findIndex(n=>Uu(n,e)):$(t)&&Uu(t,e)?0:-1}const $u=e=>e[0]==="_"||e==="$stable",ks=e=>V(e)?e.map(ae):[ae(e)],zd=(e,t,n)=>{const r=wd((...i)=>ks(t(...i)),n);return r._c=!1,r},ju=(e,t,n)=>{const r=e._ctx;for(const i in e){if($u(i))continue;const s=e[i];if($(s))t[i]=zd(i,s,r);else if(s!=null){const o=ks(s);t[i]=()=>o}}},qu=(e,t)=>{const n=ks(t);e.slots.default=()=>n},Gd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=K(t),Fr(t,"_",n)):ju(t,e.slots={})}else e.slots={},t&&qu(e,t);Fr(e.slots,Xr,1)},Yd=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=et;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(_t(i,t),!n&&a===1&&delete i._):(s=!t.$stable,ju(t,i)),o=t}else t&&(qu(e,t),o={default:1});if(s)for(const a in i)!$u(a)&&!(a in o)&&delete i[a]};function Le(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let u=a.dir[r];u&&(ln(),Gt(u,n,8,[e.el,a,e,t]),Pe())}}function Bu(){return{app:null,config:{isNativeTag:Df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xd=0;function Qd(e,t){return function(r,i=null){i!=null&&!gt(i)&&(i=null);const s=Bu(),o=new Set;let a=!1;const u=s.app={_uid:Xd++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Ap,get config(){return s.config},set config(l){},use(l,...c){return o.has(l)||(l&&$(l.install)?(o.add(l),l.install(u,...c)):$(l)&&(o.add(l),l(u,...c))),u},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),u},component(l,c){return c?(s.components[l]=c,u):s.components[l]},directive(l,c){return c?(s.directives[l]=c,u):s.directives[l]},mount(l,c,f){if(!a){const p=Ve(r,i);return p.appContext=s,c&&t?t(p,l):e(p,l,f),a=!0,u._container=l,l.__vue_app__=u,js(p.component)||p.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(l,c){return s.provides[l]=c,u}};return u}}const Rt=Sd;function Jd(e){return Zd(e)}function Zd(e,t){const n=Lf();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:p,setScopeId:m=ee,cloneNode:C,insertStaticContent:P}=e,_=(h,d,g,v=null,y=null,b=null,S=!1,E=null,T=!!d.dynamicChildren)=>{if(h===d)return;h&&!Ue(h,d)&&(v=Rr(h),we(h,y,b,!0),h=null),d.patchFlag===-2&&(T=!1,d.dynamicChildren=null);const{type:w,ref:R,shapeFlag:x}=d;switch(w){case Fs:D(h,d,g,v);break;case be:G(h,d,g,v);break;case Us:h==null&&Y(d,g,v,S);break;case oe:Ze(h,d,g,v,y,b,S,E,T);break;default:x&1?ne(h,d,g,v,y,b,S,E,T):x&6?La(h,d,g,v,y,b,S,E,T):(x&64||x&128)&&w.process(h,d,g,v,y,b,S,E,T,en)}R!=null&&y&&Ls(R,h&&h.ref,b,d||h,!d)},D=(h,d,g,v)=>{if(h==null)r(d.el=a(d.children),g,v);else{const y=d.el=h.el;d.children!==h.children&&l(y,d.children)}},G=(h,d,g,v)=>{h==null?r(d.el=u(d.children||""),g,v):d.el=h.el},Y=(h,d,g,v)=>{[h.el,h.anchor]=P(h.children,d,g,v)},nt=({el:h,anchor:d},g,v)=>{let y;for(;h&&h!==d;)y=p(h),r(h,g,v),h=y;r(d,g,v)},xt=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),i(h),h=g;i(d)},ne=(h,d,g,v,y,b,S,E,T)=>{S=S||d.type==="svg",h==null?Z(d,g,v,y,b,S,E,T):Jt(h,d,y,b,S,E,T)},Z=(h,d,g,v,y,b,S,E)=>{let T,w;const{type:R,props:x,shapeFlag:M,transition:F,patchFlag:B,dirs:st}=h;if(h.el&&C!==void 0&&B===-1)T=h.el=C(h.el);else{if(T=h.el=o(h.type,b,x&&x.is,x),M&8?c(T,h.children):M&16&&pt(h.children,T,null,v,y,b&&R!=="foreignObject",S,E),st&&Le(h,null,v,"created"),x){for(const it in x)it!=="value"&&!kr(it)&&s(T,it,null,x[it],b,h.children,v,y,fe);"value"in x&&s(T,"value",null,x.value),(w=x.onVnodeBeforeMount)&&se(w,v,h)}vt(T,h,h.scopeId,S,v)}st&&Le(h,null,v,"beforeMount");const tt=(!y||y&&!y.pendingBranch)&&F&&!F.persisted;tt&&F.beforeEnter(T),r(T,d,g),((w=x&&x.onVnodeMounted)||tt||st)&&Rt(()=>{w&&se(w,v,h),tt&&F.enter(T),st&&Le(h,null,v,"mounted")},y)},vt=(h,d,g,v,y)=>{if(g&&m(h,g),v)for(let b=0;b<v.length;b++)m(h,v[b]);if(y){let b=y.subTree;if(d===b){const S=y.vnode;vt(h,S,S.scopeId,S.slotScopeIds,y.parent)}}},pt=(h,d,g,v,y,b,S,E,T=0)=>{for(let w=T;w<h.length;w++){const R=h[w]=E?Ie(h[w]):ae(h[w]);_(null,R,d,g,v,y,b,S,E)}},Jt=(h,d,g,v,y,b,S)=>{const E=d.el=h.el;let{patchFlag:T,dynamicChildren:w,dirs:R}=d;T|=h.patchFlag&16;const x=h.props||et,M=d.props||et;let F;(F=M.onVnodeBeforeUpdate)&&se(F,g,d,h),R&&Le(d,h,g,"beforeUpdate");const B=y&&d.type!=="foreignObject";if(w?qt(h.dynamicChildren,w,E,g,v,B,b):S||he(h,d,E,null,g,v,B,b,!1),T>0){if(T&16)Zt(E,d,x,M,g,v,y);else if(T&2&&x.class!==M.class&&s(E,"class",null,M.class,y),T&4&&s(E,"style",x.style,M.style,y),T&8){const st=d.dynamicProps;for(let tt=0;tt<st.length;tt++){const it=st[tt],te=x[it],nn=M[it];(nn!==te||it==="value")&&s(E,it,te,nn,y,h.children,g,v,fe)}}T&1&&h.children!==d.children&&c(E,d.children)}else!S&&w==null&&Zt(E,d,x,M,g,v,y);((F=M.onVnodeUpdated)||R)&&Rt(()=>{F&&se(F,g,d,h),R&&Le(d,h,g,"updated")},v)},qt=(h,d,g,v,y,b,S)=>{for(let E=0;E<d.length;E++){const T=h[E],w=d[E],R=T.el&&(T.type===oe||!Ue(T,w)||T.shapeFlag&(6|64))?f(T.el):g;_(T,w,R,null,v,y,b,S,!0)}},Zt=(h,d,g,v,y,b,S)=>{if(g!==v){for(const E in v){if(kr(E))continue;const T=v[E],w=g[E];T!==w&&E!=="value"&&s(h,E,w,T,S,d.children,y,b,fe)}if(g!==et)for(const E in g)!kr(E)&&!(E in v)&&s(h,E,g[E],null,S,d.children,y,b,fe);"value"in v&&s(h,"value",g.value,v.value)}},Ze=(h,d,g,v,y,b,S,E,T)=>{const w=d.el=h?h.el:a(""),R=d.anchor=h?h.anchor:a("");let{patchFlag:x,dynamicChildren:M,slotScopeIds:F}=d;F&&(E=E?E.concat(F):F),h==null?(r(w,g,v),r(R,g,v),pt(d.children,g,R,y,b,S,E,T)):x>0&&x&64&&M&&h.dynamicChildren?(qt(h.dynamicChildren,M,g,y,b,S,E),(d.key!=null||y&&d===y.subTree)&&Hu(h,d,!0)):he(h,d,g,R,y,b,S,E,T)},La=(h,d,g,v,y,b,S,E,T)=>{d.slotScopeIds=E,h==null?d.shapeFlag&512?y.ctx.activate(d,g,v,S,T):ts(d,g,v,y,b,S,T):Vt(h,d,T)},ts=(h,d,g,v,y,b,S)=>{const E=h.component=dp(h,v,y);if(Kr(h)&&(E.ctx.renderer=en),gp(E),E.asyncDep){if(y&&y.registerDep(E,ut),!h.el){const T=E.subTree=Ve(be);G(null,T,d,g)}return}ut(E,h,d,g,y,b,S)},Vt=(h,d,g)=>{const v=d.component=h.component;if(bd(h,d,g))if(v.asyncDep&&!v.asyncResolved){rt(v,d,g);return}else v.next=d,Ip(v.update),v.update();else d.component=h.component,d.el=h.el,v.vnode=d},ut=(h,d,g,v,y,b,S)=>{const E=()=>{if(h.isMounted){let{next:R,bu:x,u:M,parent:F,vnode:B}=h,st=R,tt;T.allowRecurse=!1,R?(R.el=B.el,rt(h,R,S)):R=B,x&&hs(x),(tt=R.props&&R.props.onVnodeBeforeUpdate)&&se(tt,F,R,B),T.allowRecurse=!0;const it=_s(h),te=h.subTree;h.subTree=it,_(te,it,f(te.el),Rr(te),h,y,b),R.el=it.el,st===null&&Id(h,it.el),M&&Rt(M,y),(tt=R.props&&R.props.onVnodeUpdated)&&Rt(()=>se(tt,F,R,B),y)}else{let R;const{el:x,props:M}=d,{bm:F,m:B,parent:st}=h,tt=Os(d);if(T.allowRecurse=!1,F&&hs(F),!tt&&(R=M&&M.onVnodeBeforeMount)&&se(R,st,d),T.allowRecurse=!0,x&&rs){const it=()=>{h.subTree=_s(h),rs(x,h.subTree,h,y,null)};tt?d.type.__asyncLoader().then(()=>!h.isUnmounted&&it()):it()}else{const it=h.subTree=_s(h);_(null,it,g,v,h,y,b),d.el=it.el}if(B&&Rt(B,y),!tt&&(R=M&&M.onVnodeMounted)){const it=d;Rt(()=>se(R,st,it),y)}d.shapeFlag&256&&h.a&&Rt(h.a,y),h.isMounted=!0,d=g=v=null}},T=new ms(E,()=>Zu(h.update),h.scope),w=h.update=T.run.bind(T);w.id=h.uid,T.allowRecurse=w.allowRecurse=!0,w()},rt=(h,d,g)=>{d.component=h;const v=h.vnode.props;h.vnode=d,h.next=null,Kd(h,d.props,v,g),Yd(h,d.children,g),ln(),Ws(void 0,h.update),Pe()},he=(h,d,g,v,y,b,S,E,T=!1)=>{const w=h&&h.children,R=h?h.shapeFlag:0,x=d.children,{patchFlag:M,shapeFlag:F}=d;if(M>0){if(M&128){Ln(w,x,g,v,y,b,S,E,T);return}else if(M&256){es(w,x,g,v,y,b,S,E,T);return}}F&8?(R&16&&fe(w,y,b),x!==w&&c(g,x)):R&16?F&16?Ln(w,x,g,v,y,b,S,E,T):fe(w,y,b,!0):(R&8&&c(g,""),F&16&&pt(x,g,v,y,b,S,E,T))},es=(h,d,g,v,y,b,S,E,T)=>{h=h||rn,d=d||rn;const w=h.length,R=d.length,x=Math.min(w,R);let M;for(M=0;M<x;M++){const F=d[M]=T?Ie(d[M]):ae(d[M]);_(h[M],F,g,null,y,b,S,E,T)}w>R?fe(h,y,b,!0,!1,x):pt(d,g,v,y,b,S,E,T,x)},Ln=(h,d,g,v,y,b,S,E,T)=>{let w=0;const R=d.length;let x=h.length-1,M=R-1;for(;w<=x&&w<=M;){const F=h[w],B=d[w]=T?Ie(d[w]):ae(d[w]);if(Ue(F,B))_(F,B,g,null,y,b,S,E,T);else break;w++}for(;w<=x&&w<=M;){const F=h[x],B=d[M]=T?Ie(d[M]):ae(d[M]);if(Ue(F,B))_(F,B,g,null,y,b,S,E,T);else break;x--,M--}if(w>x){if(w<=M){const F=M+1,B=F<R?d[F].el:v;for(;w<=M;)_(null,d[w]=T?Ie(d[w]):ae(d[w]),g,B,y,b,S,E,T),w++}}else if(w>M)for(;w<=x;)we(h[w],y,b,!0),w++;else{const F=w,B=w,st=new Map;for(w=B;w<=M;w++){const Bt=d[w]=T?Ie(d[w]):ae(d[w]);Bt.key!=null&&st.set(Bt.key,w)}let tt,it=0;const te=M-B+1;let nn=!1,Va=0;const Fn=new Array(te);for(w=0;w<te;w++)Fn[w]=0;for(w=F;w<=x;w++){const Bt=h[w];if(it>=te){we(Bt,y,b,!0);continue}let re;if(Bt.key!=null)re=st.get(Bt.key);else for(tt=B;tt<=M;tt++)if(Fn[tt-B]===0&&Ue(Bt,d[tt])){re=tt;break}re===void 0?we(Bt,y,b,!0):(Fn[re-B]=w+1,re>=Va?Va=re:nn=!0,_(Bt,d[re],g,null,y,b,S,E,T),it++)}const $a=nn?tp(Fn):rn;for(tt=$a.length-1,w=te-1;w>=0;w--){const Bt=B+w,re=d[Bt],ja=Bt+1<R?d[Bt+1].el:v;Fn[w]===0?_(null,re,g,ja,y,b,S,E,T):nn&&(tt<0||w!==$a[tt]?tn(re,g,ja,2):tt--)}}},tn=(h,d,g,v,y=null)=>{const{el:b,type:S,transition:E,children:T,shapeFlag:w}=h;if(w&6){tn(h.component.subTree,d,g,v);return}if(w&128){h.suspense.move(d,g,v);return}if(w&64){S.move(h,d,g,en);return}if(S===oe){r(b,d,g);for(let x=0;x<T.length;x++)tn(T[x],d,g,v);r(h.anchor,d,g);return}if(S===Us){nt(h,d,g);return}if(v!==2&&w&1&&E)if(v===0)E.beforeEnter(b),r(b,d,g),Rt(()=>E.enter(b),y);else{const{leave:x,delayLeave:M,afterLeave:F}=E,B=()=>r(b,d,g),st=()=>{x(b,()=>{B(),F&&F()})};M?M(b,B,st):st()}else r(b,d,g)},we=(h,d,g,v=!1,y=!1)=>{const{type:b,props:S,ref:E,children:T,dynamicChildren:w,shapeFlag:R,patchFlag:x,dirs:M}=h;if(E!=null&&Ls(E,null,g,h,!0),R&256){d.ctx.deactivate(h);return}const F=R&1&&M,B=!Os(h);let st;if(B&&(st=S&&S.onVnodeBeforeUnmount)&&se(st,d,h),R&6)If(h.component,g,v);else{if(R&128){h.suspense.unmount(g,v);return}F&&Le(h,null,d,"beforeUnmount"),R&64?h.type.remove(h,d,g,y,en,v):w&&(b!==oe||x>0&&x&64)?fe(w,d,g,!1,!0):(b===oe&&x&(128|256)||!y&&R&16)&&fe(T,d,g),v&&Fa(h)}(B&&(st=S&&S.onVnodeUnmounted)||F)&&Rt(()=>{st&&se(st,d,h),F&&Le(h,null,d,"unmounted")},g)},Fa=h=>{const{type:d,el:g,anchor:v,transition:y}=h;if(d===oe){bf(g,v);return}if(d===Us){xt(h);return}const b=()=>{i(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(h.shapeFlag&1&&y&&!y.persisted){const{leave:S,delayLeave:E}=y,T=()=>S(g,b);E?E(h.el,b,T):T()}else b()},bf=(h,d)=>{let g;for(;h!==d;)g=p(h),i(h),h=g;i(d)},If=(h,d,g)=>{const{bum:v,scope:y,update:b,subTree:S,um:E}=h;v&&hs(v),y.stop(),b&&(b.active=!1,we(S,h,d,g)),E&&Rt(E,d),Rt(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},fe=(h,d,g,v=!1,y=!1,b=0)=>{for(let S=b;S<h.length;S++)we(h[S],d,g,v,y)},Rr=h=>h.shapeFlag&6?Rr(h.component.subTree):h.shapeFlag&128?h.suspense.next():p(h.anchor||h.el),Ua=(h,d,g)=>{h==null?d._vnode&&we(d._vnode,null,null,!0):_(d._vnode||null,h,d,null,null,null,g),nl(),d._vnode=h},en={p:_,um:we,m:tn,r:Fa,mt:ts,mc:pt,pc:he,pbc:qt,n:Rr,o:e};let ns,rs;return t&&([ns,rs]=t(en)),{render:Ua,hydrate:ns,createApp:Qd(Ua,ns)}}function Ls(e,t,n,r,i=!1){if(V(e)){e.forEach((p,m)=>Ls(p,t&&(V(t)?t[m]:t),n,r,i));return}if(Os(r)&&!i)return;const s=r.shapeFlag&4?js(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:u}=e,l=t&&t.r,c=a.refs===et?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==u&&(wt(l)?(c[l]=null,H(f,l)&&(f[l]=null)):$t(l)&&(l.value=null)),wt(u)){const p=()=>{c[u]=o,H(f,u)&&(f[u]=o)};o?(p.id=-1,Rt(p,n)):p()}else if($t(u)){const p=()=>{u.value=o};o?(p.id=-1,Rt(p,n)):p()}else $(u)&&Ce(u,a,12,[o,c])}function se(e,t,n,r=null){Gt(e,t,7,[n,r])}function Hu(e,t,n=!1){const r=e.children,i=t.children;if(V(r)&&V(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ie(i[s]),a.el=o.el),n||Hu(o,a))}}function tp(e){const t=e.slice(),n=[0];let r,i,s,o,a;const u=e.length;for(r=0;r<u;r++){const l=e[r];if(l!==0){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const ep=e=>e.__isTeleport,np=Symbol(),oe=Symbol(void 0),Fs=Symbol(void 0),be=Symbol(void 0),Us=Symbol(void 0),qn=[];let Fe=null;function X0(e=!1){qn.push(Fe=e?null:[])}function rp(){qn.pop(),Fe=qn[qn.length-1]||null}let Yr=1;function Wu(e){Yr+=e}function ip(e){return e.dynamicChildren=Yr>0?Fe||rn:null,rp(),Yr>0&&Fe&&Fe.push(e),e}function Q0(e,t,n,r,i,s){return ip(zu(e,t,n,r,i,s,!0))}function sp(e){return e?e.__v_isVNode===!0:!1}function Ue(e,t){return e.type===t.type&&e.key===t.key}const Xr="__vInternal",Ku=({key:e})=>e!=null?e:null,Qr=({ref:e})=>e!=null?wt(e)||$t(e)||$(e)?{i:ie,r:e}:e:null;function zu(e,t=null,n=null,r=0,i=null,s=e===oe?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ku(t),ref:t&&Qr(t),scopeId:Tu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Vs(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=wt(n)?8:16),Yr>0&&!o&&Fe&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Fe.push(u),u}const Ve=op;function op(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===np)&&(e=be),sp(e)){const a=hn(e,t,!0);return n&&Vs(a,n),a}if(wp(e)&&(e=e.__vccOpts),t){t=ap(t);let{class:a,style:u}=t;a&&!wt(a)&&(t.class=os(a)),gt(u)&&(gu(u)&&!V(u)&&(u=_t({},u)),t.style=ss(u))}const o=wt(e)?1:Cd(e)?128:ep(e)?64:gt(e)?4:$(e)?2:0;return zu(e,t,n,r,i,o,s,!0)}function ap(e){return e?gu(e)||Xr in e?_t({},e):e:null}function hn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,a=t?lp(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ku(a),ref:t&&t.ref?n&&i?V(i)?i.concat(Qr(t)):[i,Qr(t)]:Qr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==oe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hn(e.ssContent),ssFallback:e.ssFallback&&hn(e.ssFallback),el:e.el,anchor:e.anchor}}function up(e=" ",t=0){return Ve(Fs,null,e,t)}function ae(e){return e==null||typeof e=="boolean"?Ve(be):V(e)?Ve(oe,null,e.slice()):typeof e=="object"?Ie(e):Ve(Fs,null,String(e))}function Ie(e){return e.el===null||e.memo?e:hn(e)}function Vs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(r&(1|64)){const i=t.default;i&&(i._c&&(i._d=!1),Vs(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Xr in t)?t._ctx=ie:i===3&&ie&&(ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $(t)?(t={default:t,_ctx:ie},n=32):(t=String(t),r&64?(n=16,t=[up(t)]):n=8);e.children=t,e.shapeFlag|=n}function lp(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=os([t.class,r.class]));else if(i==="style")t.style=ss([t.style,r.style]);else if(Mr(i)){const s=t[i],o=r[i];s!==o&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function J0(e,t,n,r){let i;const s=n&&n[r];if(V(e)||wt(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(gt(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const l=o[a];i[a]=t(e[l],l,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}const $s=e=>e?Gu(e)?js(e)||e.proxy:$s(e.parent):null,Jr=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$s(e.parent),$root:e=>$s(e.root),$emit:e=>e.emit,$options:e=>Ru(e),$forceUpdate:e=>()=>Zu(e.update),$nextTick:e=>Tp.bind(e.proxy),$watch:e=>_p.bind(e)}),cp={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:u}=e;let l;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 0:return r[t];case 1:return i[t];case 3:return n[t];case 2:return s[t]}else{if(r!==et&&H(r,t))return o[t]=0,r[t];if(i!==et&&H(i,t))return o[t]=1,i[t];if((l=e.propsOptions[0])&&H(l,t))return o[t]=2,s[t];if(n!==et&&H(n,t))return o[t]=3,n[t];Rs&&(o[t]=4)}}const c=Jr[t];let f,p;if(c)return t==="$attrs"&&Ht(e,"get",t),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==et&&H(n,t))return o[t]=3,n[t];if(p=u.config.globalProperties,H(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;if(i!==et&&H(i,t))i[t]=n;else if(r!==et&&H(r,t))r[t]=n;else if(H(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return n[o]!==void 0||e!==et&&H(e,o)||t!==et&&H(t,o)||(a=s[0])&&H(a,o)||H(r,o)||H(Jr,o)||H(i.config.globalProperties,o)}},hp=Bu();let fp=0;function dp(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||hp,s={uid:fp++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,scope:new Ff(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ku(r,i),emitsOptions:Eu(r,i),emit:null,emitted:null,propsDefaults:et,inheritAttrs:r.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=vd.bind(null,s),e.ce&&e.ce(s),s}let Et=null;const pp=()=>Et||ie,fn=e=>{Et=e,e.scope.on()},$e=()=>{Et&&Et.scope.off(),Et=null};function Gu(e){return e.vnode.shapeFlag&4}let Zr=!1;function gp(e,t=!1){Zr=t;const{props:n,children:r}=e.vnode,i=Gu(e);Wd(e,n,i,t),Gd(e,r);const s=i?mp(e,t):void 0;return Zr=!1,s}function mp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=mu(new Proxy(e.ctx,cp));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?vp(e):null;fn(e),ln();const s=Ce(r,e,0,[e.props,i]);if(Pe(),$e(),Ka(s)){if(s.then($e,$e),t)return s.then(o=>{Yu(e,o,t)}).catch(o=>{ti(o,e,0)});e.asyncDep=s}else Yu(e,s,t)}else Qu(e,t)}function Yu(e,t,n){$(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=wu(t)),Qu(e,n)}let Xu;function Qu(e,t,n){const r=e.type;if(!e.render){if(!t&&Xu&&!r.render){const i=r.template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,l=_t(_t({isCustomElement:s,delimiters:a},o),u);r.render=Xu(i,l)}}e.render=r.render||ee}fn(e),ln(),$d(e),Pe(),$e()}function yp(e){return new Proxy(e.attrs,{get(t,n){return Ht(e,"get","$attrs"),t[n]}})}function vp(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=yp(e))},slots:e.slots,emit:e.emit,expose:t}}function js(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(wu(mu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Jr)return Jr[n](e)}}))}function wp(e){return $(e)&&"__vccOpts"in e}function Ce(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){ti(s,t,n)}return i}function Gt(e,t,n,r){if($(e)){const s=Ce(e,t,n,r);return s&&Ka(s)&&s.catch(o=>{ti(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Gt(e[s],t,n,r));return i}function ti(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=n;for(;s;){const l=s.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,o,a)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){Ce(u,null,10,[e,o,a]);return}}Ep(e,n,i,r)}function Ep(e,t,n,r=!0){console.error(e)}let ei=!1,qs=!1;const Wt=[];let ge=0;const Bn=[];let Hn=null,dn=0;const Wn=[];let Se=null,pn=0;const Ju=Promise.resolve();let Bs=null,Hs=null;function Tp(e){const t=Bs||Ju;return e?t.then(this?e.bind(this):e):t}function bp(e){let t=ge+1,n=Wt.length;for(;t<n;){const r=t+n>>>1;Kn(Wt[r])<e?t=r+1:n=r}return t}function Zu(e){(!Wt.length||!Wt.includes(e,ei&&e.allowRecurse?ge+1:ge))&&e!==Hs&&(e.id==null?Wt.push(e):Wt.splice(bp(e.id),0,e),tl())}function tl(){!ei&&!qs&&(qs=!0,Bs=Ju.then(rl))}function Ip(e){const t=Wt.indexOf(e);t>ge&&Wt.splice(t,1)}function el(e,t,n,r){V(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),tl()}function Cp(e){el(e,Hn,Bn,dn)}function Sp(e){el(e,Se,Wn,pn)}function Ws(e,t=null){if(Bn.length){for(Hs=t,Hn=[...new Set(Bn)],Bn.length=0,dn=0;dn<Hn.length;dn++)Hn[dn]();Hn=null,dn=0,Hs=null,Ws(e,t)}}function nl(e){if(Wn.length){const t=[...new Set(Wn)];if(Wn.length=0,Se){Se.push(...t);return}for(Se=t,Se.sort((n,r)=>Kn(n)-Kn(r)),pn=0;pn<Se.length;pn++)Se[pn]();Se=null,pn=0}}const Kn=e=>e.id==null?1/0:e.id;function rl(e){qs=!1,ei=!0,Ws(e),Wt.sort((n,r)=>Kn(n)-Kn(r));const t=ee;try{for(ge=0;ge<Wt.length;ge++){const n=Wt[ge];n&&n.active!==!1&&Ce(n,null,14)}}finally{ge=0,Wt.length=0,nl(),ei=!1,Bs=null,(Wt.length||Bn.length||Wn.length)&&rl(e)}}const il={};function Ks(e,t,n){return sl(e,t,n)}function sl(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=et){const a=Et;let u,l=!1,c=!1;if($t(e)?(u=()=>e.value,l=!!e._shallow):cn(e)?(u=()=>e,r=!0):V(e)?(c=!0,l=e.some(cn),u=()=>e.map(D=>{if($t(D))return D.value;if(cn(D))return gn(D);if($(D))return Ce(D,a,2)})):$(e)?t?u=()=>Ce(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return f&&f(),Gt(e,a,3,[p])}:u=ee,t&&r){const D=u;u=()=>gn(D())}let f,p=D=>{f=_.onStop=()=>{Ce(D,a,4)}};if(Zr)return p=ee,t?n&&Gt(t,a,3,[u(),c?[]:void 0,p]):u(),ee;let m=c?[]:il;const C=()=>{if(!!_.active)if(t){const D=_.run();(r||l||(c?D.some((G,Y)=>Un(G,m[Y])):Un(D,m)))&&(f&&f(),Gt(t,a,3,[D,m===il?void 0:m,p]),m=D)}else _.run()};C.allowRecurse=!!t;let P;i==="sync"?P=C:i==="post"?P=()=>Rt(C,a&&a.suspense):P=()=>{!a||a.isMounted?Cp(C):C()};const _=new ms(u,P);return t?n?C():m=_.run():i==="post"?Rt(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&Ha(a.scope.effects,_)}}function _p(e,t,n){const r=this.proxy,i=wt(e)?e.includes(".")?ol(r,e):()=>r[e]:e.bind(r,r);let s;$(t)?s=t:(s=t.handler,n=t);const o=Et;fn(this);const a=sl(i,s.bind(r),n);return o?fn(o):$e(),a}function ol(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function gn(e,t){if(!gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),$t(e))gn(e.value,t);else if(V(e))for(let n=0;n<e.length;n++)gn(e[n],t);else if(Wa(e)||sn(e))e.forEach(n=>{gn(n,t)});else if(Ga(e))for(const n in e)gn(e[n],t);return e}const Ap="3.2.19",Np="http://www.w3.org/2000/svg",mn=typeof document!="undefined"?document:null,al=new Map,Dp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?mn.createElementNS(Np,e):mn.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>mn.createTextNode(e),createComment:e=>mn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let s=al.get(e);if(!s){const o=mn.createElement("template");if(o.innerHTML=r?`<svg>${e}</svg>`:e,s=o.content,r){const a=s.firstChild;for(;a.firstChild;)s.appendChild(a.firstChild);s.removeChild(a)}al.set(e,s)}return t.insertBefore(s.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function xp(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Op(e,t,n){const r=e.style,i=r.display;if(!n)e.removeAttribute("style");else if(wt(n))t!==n&&(r.cssText=n);else{for(const s in n)zs(r,s,n[s]);if(t&&!wt(t))for(const s in t)n[s]==null&&zs(r,s,"")}"_vod"in e&&(r.display=i)}const ul=/\s*!important$/;function zs(e,t,n){if(V(n))n.forEach(r=>zs(e,t,r));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=Rp(e,t);ul.test(n)?e.setProperty(an(r),n.replace(ul,""),"important"):e[r]=n}}const ll=["Webkit","Moz","ms"],Gs={};function Rp(e,t){const n=Gs[t];if(n)return n;let r=on(t);if(r!=="filter"&&r in e)return Gs[t]=r;r=Ya(r);for(let i=0;i<ll.length;i++){const s=ll[i]+r;if(s in e)return Gs[t]=s}return t}const cl="http://www.w3.org/1999/xlink";function Mp(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cl,t.slice(6,t.length)):e.setAttributeNS(cl,t,n);else{const s=Sf(t);n==null||s&&!qa(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Pp(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"){e._value=n;const a=n==null?"":n;e.value!==a&&(e.value=a),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const a=typeof e[t];if(a==="boolean"){e[t]=qa(n);return}else if(n==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch(u){}e.removeAttribute(t);return}}try{e[t]=n}catch(a){}}let ni=Date.now,hl=!1;if(typeof window!="undefined"){ni()>document.createEvent("Event").timeStamp&&(ni=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);hl=!!(e&&Number(e[1])<=53)}let Ys=0;const kp=Promise.resolve(),Lp=()=>{Ys=0},Fp=()=>Ys||(kp.then(Lp),Ys=ni());function Up(e,t,n,r){e.addEventListener(t,n,r)}function Vp(e,t,n,r){e.removeEventListener(t,n,r)}function $p(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[a,u]=jp(t);if(r){const l=s[t]=qp(r,i);Up(e,a,l,u)}else o&&(Vp(e,a,o,u),s[t]=void 0)}}const fl=/(?:Once|Passive|Capture)$/;function jp(e){let t;if(fl.test(e)){t={};let n;for(;n=e.match(fl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[an(e.slice(2)),t]}function qp(e,t){const n=r=>{const i=r.timeStamp||ni();(hl||i>=n.attached-1)&&Gt(Bp(r,n.value),t,5,[r])};return n.value=e,n.attached=Fp(),n}function Bp(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r(i))}else return t}const dl=/^on[a-z]/,Hp=(e,t,n,r,i=!1,s,o,a,u)=>{t==="class"?xp(e,r,i):t==="style"?Op(e,n,r):Mr(t)?as(t)||$p(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wp(e,t,r,i))?Pp(e,t,r,s,o,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Mp(e,t,r,i))};function Wp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&dl.test(t)&&$(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||dl.test(t)&&wt(n)?!1:t in e}const Kp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Dd.props;const zp=_t({patchProp:Hp},Dp);let pl;function Gp(){return pl||(pl=Jd(zp))}const Z0=(...e)=>{const t=Gp().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Yp(r);if(!i)return;const s=t._component;!$(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Yp(e){return wt(e)?document.querySelector(e):e}function Mt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Xp(e){return Mt(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ue(e){Mt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Qp(e){if(Mt(1,arguments),!Xp(e)&&typeof e!="number")return!1;var t=ue(e);return!isNaN(Number(t))}var Jp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zp=function(e,t,n){var r,i=Jp[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},tg=Zp;function Xs(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var eg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ng={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ig={date:Xs({formats:eg,defaultWidth:"full"}),time:Xs({formats:ng,defaultWidth:"full"}),dateTime:Xs({formats:rg,defaultWidth:"full"})},sg=ig,og={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ag=function(e,t,n,r){return og[e]},ug=ag;function zn(e){return function(t,n){var r=n||{},i=r.context?String(r.context):"standalone",s;if(i==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r.width?String(r.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var u=e.defaultWidth,l=r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[u]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var lg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cg={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fg={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gg=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mg={ordinalNumber:gg,era:zn({values:lg,defaultWidth:"wide"}),quarter:zn({values:cg,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:zn({values:hg,defaultWidth:"wide"}),day:zn({values:fg,defaultWidth:"wide"}),dayPeriod:zn({values:dg,defaultWidth:"wide",formattingValues:pg,defaultFormattingWidth:"wide"})},yg=mg;function Gn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(a)?wg(a,function(f){return f.test(o)}):vg(a,function(f){return f.test(o)}),l;l=e.valueCallback?e.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;var c=t.slice(o.length);return{value:l,rest:c}}}function vg(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function wg(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Eg(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var Tg=/^(\d+)(th|st|nd|rd)?/i,bg=/\d+/i,Ig={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cg={any:[/^b/i,/^(a|c)/i]},Sg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_g={any:[/1/i,/2/i,/3/i,/4/i]},Ag={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ng={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xg={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Og={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rg={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mg={ordinalNumber:Eg({matchPattern:Tg,parsePattern:bg,valueCallback:function(e){return parseInt(e,10)}}),era:Gn({matchPatterns:Ig,defaultMatchWidth:"wide",parsePatterns:Cg,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:Sg,defaultMatchWidth:"wide",parsePatterns:_g,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Gn({matchPatterns:Ag,defaultMatchWidth:"wide",parsePatterns:Ng,defaultParseWidth:"any"}),day:Gn({matchPatterns:Dg,defaultMatchWidth:"wide",parsePatterns:xg,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:Og,defaultMatchWidth:"any",parsePatterns:Rg,defaultParseWidth:"any"})},Pg=Mg,kg={code:"en-US",formatDistance:tg,formatLong:sg,formatRelative:ug,localize:yg,match:Pg,options:{weekStartsOn:0,firstWeekContainsDate:1}},Lg=kg;function Yt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Fg(e,t){Mt(2,arguments);var n=ue(e).getTime(),r=Yt(t);return new Date(n+r)}function Ug(e,t){Mt(2,arguments);var n=Yt(t);return Fg(e,-n)}function X(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Vg={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return X(t==="yy"?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):X(n+1,2)},d:function(e,t){return X(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return X(e.getUTCHours()%12||12,t.length)},H:function(e,t){return X(e.getUTCHours(),t.length)},m:function(e,t){return X(e.getUTCMinutes(),t.length)},s:function(e,t){return X(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,n-3));return X(i,t.length)}},_e=Vg,$g=864e5;function jg(e){Mt(1,arguments);var t=ue(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/$g)+1}function ri(e){Mt(1,arguments);var t=1,n=ue(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function gl(e){Mt(1,arguments);var t=ue(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=ri(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=ri(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function qg(e){Mt(1,arguments);var t=gl(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=ri(n);return r}var Bg=6048e5;function Hg(e){Mt(1,arguments);var t=ue(e),n=ri(t).getTime()-qg(t).getTime();return Math.round(n/Bg)+1}function ii(e,t){Mt(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,s=i==null?0:Yt(i),o=n.weekStartsOn==null?s:Yt(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=ue(e),u=a.getUTCDay(),l=(u<o?7:0)+u-o;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function ml(e,t){Mt(1,arguments);var n=ue(e,t),r=n.getUTCFullYear(),i=t||{},s=i.locale,o=s&&s.options&&s.options.firstWeekContainsDate,a=o==null?1:Yt(o),u=i.firstWeekContainsDate==null?a:Yt(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=ii(l,t),f=new Date(0);f.setUTCFullYear(r,0,u),f.setUTCHours(0,0,0,0);var p=ii(f,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function Wg(e,t){Mt(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,s=i==null?1:Yt(i),o=n.firstWeekContainsDate==null?s:Yt(n.firstWeekContainsDate),a=ml(e,t),u=new Date(0);u.setUTCFullYear(a,0,o),u.setUTCHours(0,0,0,0);var l=ii(u,t);return l}var Kg=6048e5;function zg(e,t){Mt(1,arguments);var n=ue(e),r=ii(n,t).getTime()-Wg(n,t).getTime();return Math.round(r/Kg)+1}var yn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gg={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _e.y(e,t)},Y:function(e,t,n,r){var i=ml(e,r),s=i>0?i:1-i;if(t==="YY"){var o=s%100;return X(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):X(s,t.length)},R:function(e,t){var n=gl(e);return X(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return X(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return X(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return X(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return _e.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return X(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=zg(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):X(i,t.length)},I:function(e,t,n){var r=Hg(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):X(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):_e.d(e,t)},D:function(e,t,n){var r=jg(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):X(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return X(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return X(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return X(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r=e.getUTCHours(),i;switch(r===12?i=yn.noon:r===0?i=yn.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r=e.getUTCHours(),i;switch(r>=17?i=yn.evening:r>=12?i=yn.afternoon:r>=4?i=yn.morning:i=yn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _e.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_e.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):X(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):X(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_e.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_e.s(e,t)},S:function(e,t){return _e.S(e,t)},X:function(e,t,n,r){var i=r._originalDate||e,s=i.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return vl(s);case"XXXX":case"XX":return je(s);case"XXXXX":case"XXX":default:return je(s,":")}},x:function(e,t,n,r){var i=r._originalDate||e,s=i.getTimezoneOffset();switch(t){case"x":return vl(s);case"xxxx":case"xx":return je(s);case"xxxxx":case"xxx":default:return je(s,":")}},O:function(e,t,n,r){var i=r._originalDate||e,s=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yl(s,":");case"OOOO":default:return"GMT"+je(s,":")}},z:function(e,t,n,r){var i=r._originalDate||e,s=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yl(s,":");case"zzzz":default:return"GMT"+je(s,":")}},t:function(e,t,n,r){var i=r._originalDate||e,s=Math.floor(i.getTime()/1e3);return X(s,t.length)},T:function(e,t,n,r){var i=r._originalDate||e,s=i.getTime();return X(s,t.length)}};function yl(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t||"";return n+String(i)+o+X(s,2)}function vl(e,t){if(e%60==0){var n=e>0?"-":"+";return n+X(Math.abs(e)/60,2)}return je(e,t)}function je(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=X(Math.floor(i/60),2),o=X(i%60,2);return r+s+n+o}var Yg=Gg;function wl(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function El(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function Xg(e,t){var n=e.match(/(P+)(p+)?/),r=n[1],i=n[2];if(!i)return wl(e,t);var s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",wl(r,t)).replace("{{time}}",El(i,t))}var Qg={p:El,P:Xg},Jg=Qg;function Zg(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var tm=["D","DD"],em=["YY","YYYY"];function nm(e){return tm.indexOf(e)!==-1}function rm(e){return em.indexOf(e)!==-1}function Tl(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var im=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,om=/^'([^]*?)'?$/,am=/''/g,um=/[a-zA-Z]/;function tE(e,t,n){Mt(2,arguments);var r=String(t),i=n||{},s=i.locale||Lg,o=s.options&&s.options.firstWeekContainsDate,a=o==null?1:Yt(o),u=i.firstWeekContainsDate==null?a:Yt(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=s.options&&s.options.weekStartsOn,c=l==null?0:Yt(l),f=i.weekStartsOn==null?c:Yt(i.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");var p=ue(e);if(!Qp(p))throw new RangeError("Invalid time value");var m=Zg(p),C=Ug(p,m),P={firstWeekContainsDate:u,weekStartsOn:f,locale:s,_originalDate:p},_=r.match(sm).map(function(D){var G=D[0];if(G==="p"||G==="P"){var Y=Jg[G];return Y(D,s.formatLong,P)}return D}).join("").match(im).map(function(D){if(D==="''")return"'";var G=D[0];if(G==="'")return lm(D);var Y=Yg[G];if(Y)return!i.useAdditionalWeekYearTokens&&rm(D)&&Tl(D,t,e),!i.useAdditionalDayOfYearTokens&&nm(D)&&Tl(D,t,e),Y(C,D,s.localize,P);if(G.match(um))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return D}).join("");return _}function lm(e){return e.match(om)[1].replace(am,"'")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cm(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function hm(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Qs(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function bl(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dm(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function pm(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mm(){return oi().indexOf("Electron/")>=0}function ym(){const e=oi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vm(){return oi().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="FirebaseError";class Js extends Error{constructor(t,n,r){super(n);this.code=t,this.customData=r,this.name=wm,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Em(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Js(i,a,r)}}function Em(e,t){return e.replace(Tm,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Tm=/\{\$([^}]+)}/g;function Zs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Cl(s)&&Cl(o)){if(!Zs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cl(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e){return e&&e._delegate?e._delegate:e}var ai=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bm=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new fm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(s){}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(Cm(t))try{this.getOrInitializeService({instanceIdentifier:qe})}catch(f){}try{for(var i=Qs(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=si(s.value,2),a=o[0],u=o[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:l});u.resolve(c)}catch(f){}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=qe),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return cm(this,void 0,void 0,function(){var t;return hm(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(bl(bl([],si(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),si(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=qe),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=qe),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Qs(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=si(l.value,2),f=c[0],p=c[1],m=this.normalizeInstanceIdentifier(f);o===m&&p.resolve(a)}}catch(C){n={error:C}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var o=this.instances.get(i);return o&&t(o,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(!!s)try{for(var o=Qs(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,n)}catch(l){}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Im(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=qe),this.component?this.component.multipleInstances?t:qe:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function Im(e){return e===qe?void 0:e}function Cm(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sm=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new bm(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(z||(z={}));const _m={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Am=z.INFO,Nm={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Dm=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Nm[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sl{constructor(t){this.name=t,this._logLevel=Am,this._logHandler=Dm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_m[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...t),this._logHandler(this,z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...t),this._logHandler(this,z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,z.INFO,...t),this._logHandler(this,z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,z.WARN,...t),this._logHandler(this,z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...t),this._logHandler(this,z.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Om(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Om(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _l="@firebase/app",Rm="0.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Sl("@firebase/app"),Mm="@firebase/app-compat",Pm="@firebase/analytics-compat",km="@firebase/analytics",Lm="@firebase/app-check-compat",Fm="@firebase/app-check",Um="@firebase/auth",Vm="@firebase/auth-compat",$m="@firebase/database",jm="@firebase/database-compat",qm="@firebase/functions",Bm="@firebase/functions-compat",Hm="@firebase/installations",Wm="@firebase/installations-compat",Km="@firebase/messaging",zm="@firebase/messaging-compat",Gm="@firebase/performance",Ym="@firebase/performance-compat",Xm="@firebase/remote-config",Qm="@firebase/remote-config-compat",Jm="@firebase/storage",Zm="@firebase/storage-compat",ty="@firebase/firestore",ey="@firebase/firestore-compat",ny="firebase",ry="9.1.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="[DEFAULT]",iy={[_l]:"fire-core",[Mm]:"fire-core-compat",[km]:"fire-analytics",[Pm]:"fire-analytics-compat",[Fm]:"fire-app-check",[Lm]:"fire-app-check-compat",[Um]:"fire-auth",[Vm]:"fire-auth-compat",[$m]:"fire-rtdb",[jm]:"fire-rtdb-compat",[qm]:"fire-fn",[Bm]:"fire-fn-compat",[Hm]:"fire-iid",[Wm]:"fire-iid-compat",[Km]:"fire-fcm",[zm]:"fire-fcm-compat",[Gm]:"fire-perf",[Ym]:"fire-perf-compat",[Xm]:"fire-rc",[Qm]:"fire-rc-compat",[Jm]:"fire-gcs",[Zm]:"fire-gcs-compat",[ty]:"fire-fst",[ey]:"fire-fst-compat","fire-js":"fire-js",[ny]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Map,eo=new Map;function sy(e,t){try{e.container.addComponent(t)}catch(n){to.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function no(e){const t=e.name;if(eo.has(t))return to.debug(`There were multiple attempts to register component ${t}.`),!1;eo.set(t,e);for(const n of ui.values())sy(n,e);return!0}function oy(e,t){return e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},li=new Il("app","Firebase",ay);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=ry;function eE(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Al,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw li.create("bad-app-name",{appName:String(r)});const i=ui.get(r);if(i){if(Zs(e,i.options)&&Zs(n,i.config))return i;throw li.create("duplicate-app",{appName:r})}const s=new Sm(r);for(const a of eo.values())s.addComponent(a);const o=new uy(e,n,s);return ui.set(r,o),o}function cy(e=Al){const t=ui.get(e);if(!t)throw li.create("no-app",{appName:e});return t}function ci(e,t,n){var r;let i=(r=iy[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}no(new ai(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(e){no(new ai("platform-logger",t=>new xm(t),"PRIVATE")),ci(_l,Rm,e),ci("fire-js","")}hy();var fy=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},N,ro=ro||{},L=fy||self;function hi(){}function io(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xn(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function dy(e){return Object.prototype.hasOwnProperty.call(e,so)&&e[so]||(e[so]=++py)}var so="closure_uid_"+(1e9*Math.random()>>>0),py=0;function gy(e,t,n){return e.call.apply(e.bind,arguments)}function my(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Tt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=gy:Tt=my,Tt.apply(null,arguments)}function fi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function bt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Ae(){this.s=this.s,this.o=this.o}var yy=0,vy={};Ae.prototype.s=!1;Ae.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),yy!=0)){var e=dy(this);delete vy[e]}};Ae.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Dl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i=typeof e=="string"?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function wy(e){t:{var t=cv;const n=e.length,r=typeof e=="string"?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function xl(e){return Array.prototype.concat.apply([],arguments)}function oo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function di(e){return/^[\s\xa0]*$/.test(e)}var Ol=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pt(e,t){return e.indexOf(t)!=-1}function ao(e,t){return e<t?-1:e>t?1:0}var kt;t:{var Rl=L.navigator;if(Rl){var Ml=Rl.userAgent;if(Ml){kt=Ml;break t}}kt=""}function uo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Pl(e){const t={};for(const n in e)t[n]=e[n];return t}var kl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ll(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<kl.length;s++)n=kl[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lo(e){return lo[" "](e),e}lo[" "]=hi;function Ey(e){var t=Iy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Ty=Pt(kt,"Opera"),vn=Pt(kt,"Trident")||Pt(kt,"MSIE"),Fl=Pt(kt,"Edge"),co=Fl||vn,Ul=Pt(kt,"Gecko")&&!(Pt(kt.toLowerCase(),"webkit")&&!Pt(kt,"Edge"))&&!(Pt(kt,"Trident")||Pt(kt,"MSIE"))&&!Pt(kt,"Edge"),by=Pt(kt.toLowerCase(),"webkit")&&!Pt(kt,"Edge");function Vl(){var e=L.document;return e?e.documentMode:void 0}var pi;t:{var ho="",fo=function(){var e=kt;if(Ul)return/rv:([^\);]+)(\)|;)/.exec(e);if(Fl)return/Edge\/([\d\.]+)/.exec(e);if(vn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(by)return/WebKit\/(\S+)/.exec(e);if(Ty)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(fo&&(ho=fo?fo[1]:""),vn){var po=Vl();if(po!=null&&po>parseFloat(ho)){pi=String(po);break t}}pi=ho}var Iy={};function Cy(){return Ey(function(){let e=0;const t=Ol(String(pi)).split("."),n=Ol("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=ao(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||ao(i[2].length==0,s[2].length==0)||ao(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var go;if(L.document&&vn){var $l=Vl();go=$l||parseInt(pi,10)||void 0}else go=void 0;var Sy=go,_y=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{L.addEventListener("test",hi,t),L.removeEventListener("test",hi,t)}catch(n){}return e}();function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};function Qn(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ul){t:{try{lo(t.nodeName);var i=!0;break t}catch(s){}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ay[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qn.Z.h.call(this)}}bt(Qn,At);var Ay={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),Ny=0;function Dy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ny,this.ca=this.fa=!1}function gi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function mi(e){this.src=e,this.g={},this.h=0}mi.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=yo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Dy(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function mo(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Nl(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gi(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function yo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var vo="closure_lm_"+(1e6*Math.random()|0),wo={};function jl(e,t,n,r,i){if(r&&r.once)return Bl(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)jl(e,t[s],n,r,i);return null}return n=Io(n),e&&e[Jn]?e.N(t,n,Xn(r)?!!r.capture:!!r,i):ql(e,t,n,!1,r,i)}function ql(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Xn(i)?!!i.capture:!!i,a=To(e);if(a||(e[vo]=a=new mi(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=xy(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_y||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wl(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xy(){function e(n){return t.call(e.src,e.listener,n)}var t=Oy;return e}function Bl(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Bl(e,t[s],n,r,i);return null}return n=Io(n),e&&e[Jn]?e.O(t,n,Xn(r)?!!r.capture:!!r,i):ql(e,t,n,!0,r,i)}function Hl(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Hl(e,t[s],n,r,i);else r=Xn(r)?!!r.capture:!!r,n=Io(n),e&&e[Jn]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=yo(s,n,r,i),-1<n&&(gi(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=To(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yo(t,n,r,i)),(n=-1<e?t[e]:null)&&Eo(n))}function Eo(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Jn])mo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=To(t))?(mo(n,e),n.h==0&&(n.src=null,t[vo]=null)):gi(e)}}}function Wl(e){return e in wo?wo[e]:wo[e]="on"+e}function Oy(e,t){if(e.ca)e=!0;else{t=new Qn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Eo(e),e=n.call(r,t)}return e}function To(e){return e=e[vo],e instanceof mi?e:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Io(e){return typeof e=="function"?e:(e[bo]||(e[bo]=function(t){return e.handleEvent(t)}),e[bo])}function mt(){Ae.call(this),this.i=new mi(this),this.P=this,this.I=null}bt(mt,Ae);mt.prototype[Jn]=!0;mt.prototype.removeEventListener=function(e,t,n,r){Hl(this,e,t,n,r)};function It(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var i=t;t=new At(r,e),Ll(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=yi(o,r,!0,t)&&i}if(o=t.g=e,i=yi(o,r,!0,t)&&i,i=yi(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=yi(o,r,!1,t)&&i}mt.prototype.M=function(){if(mt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)gi(n[r]);delete e.g[t],e.h--}}this.I=null};mt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};mt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function yi(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&mo(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Co=L.JSON.stringify;function Ry(){var e=zl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class My{constructor(){this.h=this.g=null}add(t,n){const r=Kl.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Kl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Py,e=>e.reset());class Py{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ky(e){L.setTimeout(()=>{throw e},0)}function So(e,t){_o||Ly(),Ao||(_o(),Ao=!0),zl.add(e,t)}var _o;function Ly(){var e=L.Promise.resolve(void 0);_o=function(){e.then(Fy)}}var Ao=!1,zl=new My;function Fy(){for(var e;e=Ry();){try{e.h.call(e.g)}catch(n){ky(n)}var t=Kl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ao=!1}function vi(e,t){mt.call(this),this.h=e||1,this.g=t||L,this.j=Tt(this.kb,this),this.l=Date.now()}bt(vi,mt);N=vi.prototype;N.da=!1;N.S=null;N.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),It(this,"tick"),this.da&&(No(this),this.start()))}};N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function No(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}N.M=function(){vi.Z.M.call(this),No(this),delete this.g};function Do(e,t,n){if(typeof e=="function")n&&(e=Tt(e,n));else if(e&&typeof e.handleEvent=="function")e=Tt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:L.setTimeout(e,t||0)}function Gl(e){e.g=Do(()=>{e.g=null,e.i&&(e.i=!1,Gl(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Uy extends Ae{constructor(t,n){super();this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Gl(this)}M(){super.M(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(e){Ae.call(this),this.h=e,this.g={}}bt(Zn,Ae);var Yl=[];function Xl(e,t,n,r){Array.isArray(n)||(n&&(Yl[0]=n.toString()),n=Yl);for(var i=0;i<n.length;i++){var s=jl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ql(e){uo(e.g,function(t,n){this.g.hasOwnProperty(n)&&Eo(t)},e),e.g={}}Zn.prototype.M=function(){Zn.Z.M.call(this),Ql(this)};Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wi(){this.g=!0}wi.prototype.Aa=function(){this.g=!1};function Vy(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function $y(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function wn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+qy(e,n)+(r?" "+r:"")})}function jy(e,t){e.info(function(){return"TIMEOUT: "+t})}wi.prototype.info=function(){};function qy(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Co(n)}catch(a){return t}}var Be={},Jl=null;function Ei(){return Jl=Jl||new mt}Be.Ma="serverreachability";function Zl(e){At.call(this,Be.Ma,e)}bt(Zl,At);function tr(e){const t=Ei();It(t,new Zl(t,e))}Be.STAT_EVENT="statevent";function tc(e,t){At.call(this,Be.STAT_EVENT,e),this.stat=t}bt(tc,At);function Lt(e){const t=Ei();It(t,new tc(t,e))}Be.Na="timingevent";function ec(e,t){At.call(this,Be.Na,e),this.size=t}bt(ec,At);function er(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){e()},t)}var Ti={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xo(){}xo.prototype.h=null;function rc(e){return e.h||(e.h=e.i())}function ic(){}var nr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Oo(){At.call(this,"d")}bt(Oo,At);function Ro(){At.call(this,"c")}bt(Ro,At);var Mo;function bi(){}bt(bi,xo);bi.prototype.g=function(){return new XMLHttpRequest};bi.prototype.i=function(){return{}};Mo=new bi;function rr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zn(this),this.P=By,e=co?125:void 0,this.W=new vi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sc}function sc(){this.i=null,this.g="",this.h=!1}var By=45e3,Po={},Ii={};N=rr.prototype;N.setTimeout=function(e){this.P=e};function ko(e,t,n){e.K=1,e.v=Ni(me(t)),e.s=n,e.U=!0,oc(e,null)}function oc(e,t){e.F=Date.now(),ir(e),e.A=me(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new sc,e.g=Uc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Uy(Tt(e.Ia,e,e.g),e.O)),Xl(e.V,e.g,"readystatechange",e.gb),t=e.H?Pl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tr(1),Vy(e.j,e.u,e.A,e.m,e.X,e.s)}N.gb=function(e){e=e.target;const t=this.L;t&&ye(e)==3?t.l():this.Ia(e)};N.Ia=function(e){try{if(e==this.g)t:{const c=ye(this.g);var t=this.g.Da();const f=this.g.ba();if(!(3>c)&&(c!=3||co||this.g&&(this.h.h||this.g.ga()||Ac(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?tr(3):tr(2)),Ci(this);var n=this.g.ba();this.N=n;e:if(ac(this)){var r=Ac(this.g);e="";var i=r.length,s=ye(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){He(this),sr(this);var o="";break e}this.h.i=new L.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,$y(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!di(a)){var l=a;break e}}l=null}if(n=l)wn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lo(this,n);else{this.i=!1,this.o=3,Lt(12),He(this),sr(this);break t}}this.U?(uc(this,c,o),co&&this.i&&c==3&&(Xl(this.V,this.W,"tick",this.fb),this.W.start())):(wn(this.j,this.m,o,null),Lo(this,o)),c==4&&He(this),this.i&&!this.I&&(c==4?Pc(this.l,this):(this.i=!1,ir(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),He(this),sr(this)}}}catch(c){}finally{}};function ac(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function uc(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=Hy(e,n),i==Ii){t==4&&(e.o=4,Lt(14),r=!1),wn(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Po){e.o=4,Lt(15),wn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else wn(e.j,e.m,i,null),Lo(e,i);ac(e)&&i!=Ii&&i!=Po&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Lt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zo(t),t.L=!0,Lt(11))):(wn(e.j,e.m,n,"[Invalid Chunked Response]"),He(e),sr(e))}N.fb=function(){if(this.g){var e=ye(this.g),t=this.g.ga();this.C<t.length&&(Ci(this),uc(this,e,t),this.i&&e!=4&&ir(this))}};function Hy(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ii:(n=Number(t.substring(n,r)),isNaN(n)?Po:(r+=1,r+n>t.length?Ii:(t=t.substr(r,n),e.C=r+n,t)))}N.cancel=function(){this.I=!0,He(this)};function ir(e){e.Y=Date.now()+e.P,lc(e,e.P)}function lc(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=er(Tt(e.eb,e),t)}function Ci(e){e.B&&(L.clearTimeout(e.B),e.B=null)}N.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(jy(this.j,this.A),this.K!=2&&(tr(3),Lt(17)),He(this),this.o=2,sr(this)):lc(this,this.Y-e)};function sr(e){e.l.G==0||e.I||Pc(e.l,e)}function He(e){Ci(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,No(e.W),Ql(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Lo(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Vo(n.i,e))){if(n.I=e.N,!e.J&&Vo(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Pi(n),Ri(n);else break t;Ko(n),Lt(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=er(Tt(n.ab,n),6e3));if(1>=vc(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else ze(n,11)}else if((e.J||n.g==e)&&Pi(n),!di(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const c=l[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const f=l[4];f!=null&&(n.za=f,n.h.info("SVER="+n.za));const p=l[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const C=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;!s.g&&(Pt(C,"spdy")||Pt(C,"quic")||Pt(C,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&($o(s,s.h),s.h=null))}if(r.D){const P=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(r.sa=P,ot(r.F,r.D,P))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=e;if(r.oa=Fc(r,r.H?r.la:null,r.W),o.J){wc(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Ci(a),ir(a)),r.g=o}else Rc(r);0<n.l.length&&Mi(n)}else l[0]!="stop"&&l[0]!="close"||ze(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ze(n,7):Ho(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}tr(4)}catch(l){}}function Wy(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(io(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Fo(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(io(e)||typeof e=="string")Dl(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(io(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Wy(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function En(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof En)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}N=En.prototype;N.R=function(){Uo(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};N.T=function(){return Uo(this),this.g.concat()};function Uo(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];We(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],We(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}N.get=function(e,t){return We(this.h,e)?this.h[e]:t};N.set=function(e,t){We(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};N.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function We(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var cc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ky(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ke(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ke){this.g=t!==void 0?t:e.g,Si(this,e.j),this.s=e.s,_i(this,e.i),Ai(this,e.m),this.l=e.l,t=e.h;var n=new ur;n.i=t.i,t.g&&(n.g=new En(t.g),n.h=t.h),hc(this,n),this.o=e.o}else e&&(n=String(e).match(cc))?(this.g=!!t,Si(this,n[1]||"",!0),this.s=or(n[2]||""),_i(this,n[3]||"",!0),Ai(this,n[4]),this.l=or(n[5]||"",!0),hc(this,n[6]||"",!0),this.o=or(n[7]||"")):(this.g=!!t,this.h=new ur(null,this.g))}Ke.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ar(t,fc,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ar(t,fc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ar(n,n.charAt(0)=="/"?Qy:Xy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ar(n,Zy)),e.join("")};function me(e){return new Ke(e)}function Si(e,t,n){e.j=n?or(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _i(e,t,n){e.i=n?or(t,!0):t}function Ai(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hc(e,t,n){t instanceof ur?(e.h=t,tv(e.h,e.g)):(n||(t=ar(t,Jy)),e.h=new ur(t,e.g))}function ot(e,t,n){e.h.set(t,n)}function Ni(e){return ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zy(e){return e instanceof Ke?me(e):new Ke(e,void 0)}function Gy(e,t,n,r){var i=new Ke(null,void 0);return e&&Si(i,e),t&&_i(i,t),n&&Ai(i,n),r&&(i.l=r),i}function or(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ar(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Yy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yy(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fc=/[#\/\?@]/g,Xy=/[#\?:]/g,Qy=/[#\?]/g,Jy=/[#\?@]/g,Zy=/#/g;function ur(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ne(e){e.g||(e.g=new En,e.h=0,e.i&&Ky(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}N=ur.prototype;N.add=function(e,t){Ne(this),this.i=null,e=Tn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dc(e,t){Ne(e),t=Tn(e,t),We(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,We(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Uo(e)))}function pc(e,t){return Ne(e),t=Tn(e,t),We(e.g.h,t)}N.forEach=function(e,t){Ne(this),this.g.forEach(function(n,r){Dl(n,function(i){e.call(t,i,r,this)},this)},this)};N.T=function(){Ne(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};N.R=function(e){Ne(this);var t=[];if(typeof e=="string")pc(this,e)&&(t=xl(t,this.g.get(Tn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xl(t,e[n])}return t};N.set=function(e,t){return Ne(this),this.i=null,e=Tn(this,e),pc(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};N.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gc(e,t,n){dc(e,t),0<n.length&&(e.i=null,e.g.set(Tn(e,t),oo(n)),e.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};function Tn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tv(e,t){t&&!e.j&&(Ne(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dc(this,r),gc(this,i,n))},e)),e.j=t}var ev=class{constructor(e,t){this.h=e,this.g=t}};function mc(e){this.l=e||nv,L.PerformanceNavigationTiming?(e=L.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(L.g&&L.g.Ea&&L.g.Ea()&&L.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nv=10;function yc(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function vc(e){return e.h?1:e.g?e.g.size:0}function Vo(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function $o(e,t){e.g?e.g.add(t):e.h=t}function wc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mc.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Ec(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return oo(e.i)}function jo(){}jo.prototype.stringify=function(e){return L.JSON.stringify(e,void 0)};jo.prototype.parse=function(e){return L.JSON.parse(e,void 0)};function rv(){this.g=new jo}function iv(e,t,n){const r=n||"";try{Fo(e,function(i,s){let o=i;Xn(i)&&(o=Co(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sv(e,t){const n=new wi;if(L.Image){const r=new Image;r.onload=fi(Di,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fi(Di,n,r,"TestLoadImage: error",!1,t),r.onabort=fi(Di,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fi(Di,n,r,"TestLoadImage: timeout",!1,t),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Di(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function lr(e){this.l=e.$b||null,this.j=e.ib||!1}bt(lr,xo);lr.prototype.g=function(){return new xi(this.l,this.j)};lr.prototype.i=function(e){return function(){return e}}({});function xi(e,t){mt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt(xi,mt);var qo=0;N=xi.prototype;N.open=function(e,t){if(this.readyState!=qo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hr(this)};N.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||L).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=qo};N.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof L.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Tc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}N.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cr(this):hr(this),this.readyState==3&&Tc(this)}};N.Ua=function(e){this.g&&(this.response=this.responseText=e,cr(this))};N.Ta=function(e){this.g&&(this.response=e,cr(this))};N.ha=function(){this.g&&cr(this)};function cr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hr(e)}N.setRequestHeader=function(e,t){this.v.append(e,t)};N.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var ov=L.JSON.parse;function ct(e){mt.call(this),this.headers=new En,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bc,this.K=this.L=!1}bt(ct,mt);var bc="",av=/^https?$/i,uv=["POST","PUT"];N=ct.prototype;N.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mo.g(),this.C=this.u?rc(this.u):rc(Mo),this.g.onreadystatechange=Tt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){Ic(this,s);return}e=n||"";const i=new En(this.headers);r&&Fo(r,function(s,o){i.set(o,s)}),r=wy(i.T()),n=L.FormData&&e instanceof L.FormData,!(0<=Nl(uv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_c(this),0<this.B&&((this.K=lv(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.pa,this)):this.A=Do(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ic(this,s)}};function lv(e){return vn&&Cy()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function cv(e){return e.toLowerCase()=="content-type"}N.pa=function(){typeof ro!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function Ic(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cc(e),Oi(e)}function Cc(e){e.D||(e.D=!0,It(e,"complete"),It(e,"error"))}N.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,It(this,"complete"),It(this,"abort"),Oi(this))};N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oi(this,!0)),ct.Z.M.call(this)};N.Fa=function(){this.s||(this.F||this.v||this.l?Sc(this):this.cb())};N.cb=function(){Sc(this)};function Sc(e){if(e.h&&typeof ro!="undefined"&&(!e.C[1]||ye(e)!=4||e.ba()!=2)){if(e.v&&ye(e)==4)Do(e.Fa,0,e);else if(It(e,"readystatechange"),ye(e)==4){e.h=!1;try{const a=e.ba();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(cc)[1]||null;if(!i&&L.self&&L.self.location){var s=L.self.location.protocol;i=s.substr(0,s.length-1)}r=!av.test(i?i.toLowerCase():"")}n=r}if(n)It(e,"complete"),It(e,"success");else{e.m=6;try{var o=2<ye(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.ba()+"]",Cc(e)}}finally{Oi(e)}}}}function Oi(e,t){if(e.g){_c(e);const n=e.g,r=e.C[0]?hi:null;e.g=null,e.C=null,t||It(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _c(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(L.clearTimeout(e.A),e.A=null)}function ye(e){return e.g?e.g.readyState:0}N.ba=function(){try{return 2<ye(this)?this.g.status:-1}catch(e){return-1}};N.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}};N.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ov(t)}};function Ac(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}N.Da=function(){return this.m};N.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function hv(e){let t="";return uo(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Bo(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=hv(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ot(e,t,n))}function fr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nc(e){this.za=0,this.l=[],this.h=new wi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fr("baseRetryDelayMs",5e3,e),this.$a=fr("retryDelaySeedMs",1e4,e),this.Ya=fr("forwardChannelMaxRetries",2,e),this.ra=fr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mc(e&&e.concurrentRequestLimit),this.Ca=new rv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}N=Nc.prototype;N.ma=8;N.G=1;function Ho(e){if(Dc(e),e.G==3){var t=e.V++,n=me(e.F);ot(n,"SID",e.J),ot(n,"RID",t),ot(n,"TYPE","terminate"),dr(e,n),t=new rr(e,e.h,t,void 0),t.K=2,t.v=Ni(me(n)),n=!1,L.navigator&&L.navigator.sendBeacon&&(n=L.navigator.sendBeacon(t.v.toString(),"")),!n&&L.Image&&(new Image().src=t.v,n=!0),n||(t.g=Uc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ir(t)}Lc(e)}N.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}};function Ri(e){e.g&&(zo(e),e.g.cancel(),e.g=null)}function Dc(e){Ri(e),e.u&&(L.clearTimeout(e.u),e.u=null),Pi(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&L.clearTimeout(e.m),e.m=null)}function Wo(e,t){e.l.push(new ev(e.Za++,t)),e.G==3&&Mi(e)}function Mi(e){yc(e.i)||e.m||(e.m=!0,So(e.Ha,e),e.C=0)}function fv(e,t){return vc(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=er(Tt(e.Ha,e,t),kc(e,e.C)),e.C++,!0)}N.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new rr(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Pl(s),Ll(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)t:{for(var t=0,n=0;n<this.l.length;n++){e:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.l.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Oc(this,i,t),n=me(this.F),ot(n,"RID",e),ot(n,"CVER",22),this.D&&ot(n,"X-HTTP-Session-Id",this.D),dr(this,n),this.o&&s&&Bo(n,this.o,s),$o(this.i,i),this.Ra&&ot(n,"TYPE","init"),this.ja?(ot(n,"$req",t),ot(n,"SID","null"),i.$=!0,ko(i,n,null)):ko(i,n,t),this.G=2}}else this.G==3&&(e?xc(this,e):this.l.length==0||yc(this.i)||xc(this))};function xc(e,t){var n;t?n=t.m:n=e.V++;const r=me(e.F);ot(r,"SID",e.J),ot(r,"RID",n),ot(r,"AID",e.U),dr(e,r),e.o&&e.s&&Bo(r,e.o,e.s),n=new rr(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Oc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$o(e.i,n),ko(n,r,t)}function dr(e,t){e.j&&Fo({},function(n,r){ot(t,r,n)})}function Oc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Tt(e.j.Oa,e.j,e):null;t:{var i=e.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{iv(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(a){r=o.join("&");break t}}}return e=e.l.splice(0,n),t.D=e,r}function Rc(e){e.g||e.u||(e.Y=1,So(e.Ga,e),e.A=0)}function Ko(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=er(Tt(e.Ga,e),kc(e,e.A)),e.A++,!0)}N.Ga=function(){if(this.u=null,Mc(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=er(Tt(this.bb,this),e)}};N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lt(10),Ri(this),Mc(this))};function zo(e){e.B!=null&&(L.clearTimeout(e.B),e.B=null)}function Mc(e){e.g=new rr(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=me(e.oa);ot(t,"RID","rpc"),ot(t,"SID",e.J),ot(t,"CI",e.N?"0":"1"),ot(t,"AID",e.U),dr(e,t),ot(t,"TYPE","xmlhttp"),e.o&&e.s&&Bo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ni(me(t)),n.s=null,n.U=!0,oc(n,e)}N.ab=function(){this.v!=null&&(this.v=null,Ri(this),Ko(this),Lt(19))};function Pi(e){e.v!=null&&(L.clearTimeout(e.v),e.v=null)}function Pc(e,t){var n=null;if(e.g==t){Pi(e),zo(e),e.g=null;var r=2}else if(Vo(e.i,t))n=t.D,wc(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Ei(),It(r,new ec(r,n,t,i)),Mi(e)}else Rc(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&fv(e,t)||r==2&&Ko(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ze(e,5);break;case 4:ze(e,10);break;case 3:ze(e,6);break;default:ze(e,2)}}}function kc(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ze(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Tt(e.jb,e);n||(n=new Ke("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||Si(n,"https"),Ni(n)),sv(n.toString(),r)}else Lt(2);e.G=0,e.j&&e.j.va(t),Lc(e),Dc(e)}N.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Lt(2)):(this.h.info("Failed to ping google.com"),Lt(1))};function Lc(e){e.G=0,e.I=-1,e.j&&((Ec(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,oo(e.l),e.l.length=0),e.j.ua())}function Fc(e,t,n){let r=zy(n);if(r.i!="")t&&_i(r,t+"."+r.i),Ai(r,r.m);else{const i=L.location;r=Gy(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&uo(e.aa,function(i,s){ot(r,s,i)}),t=e.D,n=e.sa,t&&n&&ot(r,t,n),ot(r,"VER",e.ma),dr(e,r),r}function Uc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ct(new lr({ib:!0})):new ct(e.qa),t.L=e.H,t}function Vc(){}N=Vc.prototype;N.xa=function(){};N.wa=function(){};N.va=function(){};N.ua=function(){};N.Oa=function(){};function ki(){if(vn&&!(10<=Number(Sy)))throw Error("Environmental error: no available transport.")}ki.prototype.g=function(e,t){return new Kt(e,t)};function Kt(e,t){mt.call(this),this.g=new Nc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!di(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!di(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new bn(this)}bt(Kt,mt);Kt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),So(Tt(e.hb,e,t))),Lt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fc(e,null,e.W),Mi(e)};Kt.prototype.close=function(){Ho(this.g)};Kt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Wo(this.g,t)}else this.v?(t={},t.__data__=Co(e),Wo(this.g,t)):Wo(this.g,e)};Kt.prototype.M=function(){this.g.j=null,delete this.j,Ho(this.g),delete this.g,Kt.Z.M.call(this)};function $c(e){Oo.call(this);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}bt($c,Oo);function jc(){Ro.call(this),this.status=1}bt(jc,Ro);function bn(e){this.g=e}bt(bn,Vc);bn.prototype.xa=function(){It(this.g,"a")};bn.prototype.wa=function(e){It(this.g,new $c(e))};bn.prototype.va=function(e){It(this.g,new jc(e))};bn.prototype.ua=function(){It(this.g,"b")};ki.prototype.createWebChannel=ki.prototype.g;Kt.prototype.send=Kt.prototype.u;Kt.prototype.open=Kt.prototype.m;Kt.prototype.close=Kt.prototype.close;Ti.NO_ERROR=0;Ti.TIMEOUT=8;Ti.HTTP_ERROR=6;nc.COMPLETE="complete";ic.EventType=nr;nr.OPEN="a";nr.CLOSE="b";nr.ERROR="c";nr.MESSAGE="d";mt.prototype.listen=mt.prototype.N;ct.prototype.listenOnce=ct.prototype.O;ct.prototype.getLastError=ct.prototype.La;ct.prototype.getLastErrorCode=ct.prototype.Da;ct.prototype.getStatus=ct.prototype.ba;ct.prototype.getResponseJson=ct.prototype.Qa;ct.prototype.getResponseText=ct.prototype.ga;ct.prototype.send=ct.prototype.ea;var dv=function(){return new ki},pv=function(){return Ei()},Go=Ti,gv=nc,mv=Be,qc={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yv=lr,Li=ic,vv=ct;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In="9.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=new Sl("@firebase/firestore");function Bc(){return Ge.logLevel}function k(e,...t){if(Ge.logLevel<=z.DEBUG){const n=t.map(Yo);Ge.debug(`Firestore (${In}): ${e}`,...n)}}function De(e,...t){if(Ge.logLevel<=z.ERROR){const n=t.map(Yo);Ge.error(`Firestore (${In}): ${e}`,...n)}}function Hc(e,...t){if(Ge.logLevel<=z.WARN){const n=t.map(Yo);Ge.warn(`Firestore (${In}): ${e}`,...n)}}function Yo(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch(n){return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e="Unexpected state"){const t=`FIRESTORE (${In}) INTERNAL ASSERTION FAILED: `+e;throw De(t),new Error(t)}function ht(e,t){e||j()}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Error{constructor(t,n){super(n),this.code=t,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Ev{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Tv{constructor(t){this.t=t,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{k("FirebaseCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(k("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(k("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new wv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string"),new jt(t)}}class bv{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=jt.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Iv{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new bv(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.g(r),this.p=r=>n.writeSequenceNumber(r))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.T=-1;class Sv{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Cv(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function J(e,t){return e<t?-1:e>t?1:0}function pr(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?J(this.nanoseconds,t.nanoseconds):J(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Xt(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,n,r){n===void 0?n=0:n>t.length&&j(),r===void 0?r=t.length-n:r>t.length-n&&j(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return mr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof mr?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class lt extends mr{construct(t,n,r){return new lt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new O(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const _v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends mr{construct(t,n,r){return new Qt(t,n,r)}static isValidIdentifier(t){return _v.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new O(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Nt(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new Nt(n)}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return J(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const Av=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xe(e){if(ht(!!e),typeof e=="string"){let t=0;const n=Av.exec(e);if(ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sn(e){return typeof e=="string"?Nt.fromBase64String(e):Nt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gc(e){const t=e.mapValue.fields.__previous_value__;return zc(t)?Gc(t):t}function yr(e){const t=xe(e.mapValue.fields.__local_write_time__.timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e){return e==null}function Fi(e){return e===0&&1/e==-1/0}function Nv(e){return typeof e=="number"&&Number.isInteger(e)&&!Fi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.path=t}static fromPath(t){return new U(lt.fromString(t))}static fromName(t){return new U(lt.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return t!==null&&lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return lt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new U(new lt(t.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zc(e)?4:10:j()}function le(e,t){const n=Ye(e);if(n!==Ye(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yr(e).isEqual(yr(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xe(r.timestampValue),o=xe(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Sn(r.bytesValue).isEqual(Sn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ft(r.doubleValue),o=ft(i.doubleValue);return s===o?Fi(s)===Fi(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return pr(e.arrayValue.values||[],t.arrayValue.values||[],le);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Wc(s)!==Wc(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!le(s[a],o[a])))return!1;return!0}(e,t);default:return j()}}function vr(e,t){return(e.values||[]).find(n=>le(n,t))!==void 0}function An(e,t){const n=Ye(e),r=Ye(t);if(n!==r)return J(n,r);switch(n){case 0:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ft(i.integerValue||i.doubleValue),a=ft(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Yc(e.timestampValue,t.timestampValue);case 4:return Yc(yr(e),yr(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Sn(i),a=Sn(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=J(o[u],a[u]);if(l!==0)return l}return J(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=J(ft(i.latitude),ft(s.latitude));return o!==0?o:J(ft(i.longitude),ft(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=An(o[u],a[u]);if(l)return l}return J(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const f=J(a[c],l[c]);if(f!==0)return f;const p=An(o[a[c]],u[l[c]]);if(p!==0)return p}return J(a.length,l.length)}(e.mapValue,t.mapValue);default:throw j()}}function Yc(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return J(e,t);const n=xe(e),r=xe(t),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function Qo(e){return Jo(e)}function Jo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=xe(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sn(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,U.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Jo(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Jo(r.fields[a])}`;return s+"}"}(e.mapValue):j();var t,n}function Xc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zo(e){return!!e&&"integerValue"in e}function ta(e){return!!e&&"arrayValue"in e}function Qc(e){return!!e&&"nullValue"in e}function Jc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ea(e){return!!e&&"mapValue"in e}function wr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=wr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wr(e.arrayValue.values[n]);return t}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.value=t}static empty(){return new ve({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ea(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wr(n)}setAll(t){let n=Qt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wr(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());ea(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return le(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];ea(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){gr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ve(wr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(t){return new Dt(t,0,Q.min(),ve.empty(),0)}static newFoundDocument(t,n,r){return new Dt(t,1,n,r,0)}static newNoDocument(t,n){return new Dt(t,2,n,ve.empty(),0)}static newUnknownDocument(t,n){return new Dt(t,3,n,ve.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ve.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ve.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Dt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Dt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.A=null}}function Zc(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Dv(e,t,n,r,i,s,o)}function na(e){const t=W(e);if(t.A===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_n(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ui(t.startAt)),t.endAt&&(n+="|ub:",n+=Ui(t.endAt)),t.A=n}return t.A}function xv(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Qo(r.value)}`;var r}).join(", ")}]`),_n(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: "+Ui(e.startAt)),e.endAt&&(t+=", endAt: "+Ui(e.endAt)),`Target(${t})`}function ra(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Vv(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!le(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nh(e.startAt,t.startAt)&&nh(e.endAt,t.endAt)}function ia(e){return U.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ft extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.R(t,n,r):new Rv(t,n,r):n==="array-contains"?new kv(t,r):n==="in"?new Lv(t,r):n==="not-in"?new Fv(t,r):n==="array-contains-any"?new Uv(t,r):new Ft(t,n,r)}static R(t,n,r){return n==="in"?new Mv(t,r):new Pv(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.P(An(n,this.value)):n!==null&&Ye(this.value)===Ye(n)&&this.P(An(n,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return j()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function Ov(e){return e.field.canonicalString()+e.op.toString()+Qo(e.value)}class Rv extends Ft{constructor(t,n,r){super(t,n,r),this.key=U.fromName(r.referenceValue)}matches(t){const n=U.comparator(t.key,this.key);return this.P(n)}}class Mv extends Ft{constructor(t,n){super(t,"in",n),this.keys=th("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Pv extends Ft{constructor(t,n){super(t,"not-in",n),this.keys=th("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function th(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class kv extends Ft{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ta(n)&&vr(n.arrayValue,this.value)}}class Lv extends Ft{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&vr(this.value.arrayValue,n)}}class Fv extends Ft{constructor(t,n){super(t,"not-in",n)}matches(t){if(vr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!vr(this.value.arrayValue,n)}}class Uv extends Ft{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ta(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vr(this.value.arrayValue,r))}}class sa{constructor(t,n){this.position=t,this.before=n}}function Ui(e){return`${e.before?"b":"a"}:${e.position.map(t=>Qo(t)).join(",")}`}class Er{constructor(t,n="asc"){this.field=t,this.dir=n}}function Vv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function eh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=An(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function nh(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!le(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.V=null,this.S=null,this.startAt,this.endAt}}function $v(e,t,n,r,i,s,o,a){return new Tr(e,t,n,r,i,s,o,a)}function oa(e){return new Tr(e)}function Vi(e){return!_n(e.limit)&&e.limitType==="F"}function $i(e){return!_n(e.limit)&&e.limitType==="L"}function rh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ih(e){for(const t of e.filters)if(t.v())return t.field;return null}function sh(e){return e.collectionGroup!==null}function br(e){const t=W(e);if(t.V===null){t.V=[];const n=ih(t),r=rh(t);if(n!==null&&r===null)n.isKeyField()||t.V.push(new Er(n)),t.V.push(new Er(Qt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.V.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Er(Qt.keyField(),s))}}}return t.V}function Xe(e){const t=W(e);if(!t.S)if(t.limitType==="F")t.S=Zc(t.path,t.collectionGroup,br(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of br(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Er(s.field,o))}const r=t.endAt?new sa(t.endAt.position,!t.endAt.before):null,i=t.startAt?new sa(t.startAt.position,!t.startAt.before):null;t.S=Zc(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.S}function jv(e,t,n){return new Tr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ji(e,t){return ra(Xe(e),Xe(t))&&e.limitType===t.limitType}function oh(e){return`${na(Xe(e))}|lt:${e.limitType}`}function aa(e){return`Query(target=${xv(Xe(e))}; limitType=${e.limitType})`}function qi(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):U.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!eh(n.startAt,br(n),r)||n.endAt&&eh(n.endAt,br(n),r))}(e,t)}function ah(e){return(t,n)=>{let r=!1;for(const i of br(e)){const s=qv(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qv(e,t,n){const r=e.field.isKeyField()?U.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?An(a,u):j()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(t)?"-0":t}}function lh(e){return{integerValue:""+e}}function Bv(e,t){return Nv(t)?lh(t):uh(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this._=void 0}}function Hv(e,t,n){return e instanceof ua?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Hi?ch(e,t):e instanceof Wi?hh(e,t):function(r,i){const s=Kv(r,i),o=fh(s)+fh(r.C);return Zo(s)&&Zo(r.C)?lh(o):uh(r.N,o)}(e,t)}function Wv(e,t,n){return e instanceof Hi?ch(e,t):e instanceof Wi?hh(e,t):n}function Kv(e,t){return e instanceof la?Zo(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ua extends Bi{}class Hi extends Bi{constructor(t){super(),this.elements=t}}function ch(e,t){const n=dh(t);for(const r of e.elements)n.some(i=>le(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wi extends Bi{constructor(t){super(),this.elements=t}}function hh(e,t){let n=dh(t);for(const r of e.elements)n=n.filter(i=>!le(i,r));return{arrayValue:{values:n}}}class la extends Bi{constructor(t,n){super(),this.N=t,this.C=n}}function fh(e){return ft(e.integerValue||e.doubleValue)}function dh(e){return ta(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zv(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Hi&&r instanceof Hi||n instanceof Wi&&r instanceof Wi?pr(n.elements,r.elements,le):n instanceof la&&r instanceof la?le(n.C,r.C):n instanceof ua&&r instanceof ua}(e.transform,t.transform)}function Ki(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ph{}function Gv(e,t,n){e instanceof yh?function(r,i,s){const o=r.value.clone(),a=wh(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof ha?function(r,i,s){if(!Ki(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wh(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(vh(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ca(e,t,n){e instanceof yh?function(r,i,s){if(!Ki(r.precondition,i))return;const o=r.value.clone(),a=Eh(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(mh(i),o).setHasLocalMutations()}(e,t,n):e instanceof ha?function(r,i,s){if(!Ki(r.precondition,i))return;const o=Eh(r.fieldTransforms,s,i),a=i.data;a.setAll(vh(r)),a.setAll(o),i.convertToFoundDocument(mh(i),a).setHasLocalMutations()}(e,t,n):function(r,i){Ki(r.precondition,i)&&i.convertToNoDocument(Q.min())}(e,t)}function gh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&pr(n,r,(i,s)=>zv(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mh(e){return e.isFoundDocument()?e.version:Q.min()}class yh extends ph{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ha extends ph{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function vh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wh(e,t,n){const r=new Map;ht(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Wv(o,a,n[i]))}return r}function Eh(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hv(s,o,t))}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,q;function Th(e){if(e===void 0)return De("GRPC error has no .code"),I.UNKNOWN;switch(e){case dt.OK:return I.OK;case dt.CANCELLED:return I.CANCELLED;case dt.UNKNOWN:return I.UNKNOWN;case dt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case dt.INTERNAL:return I.INTERNAL;case dt.UNAVAILABLE:return I.UNAVAILABLE;case dt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case dt.NOT_FOUND:return I.NOT_FOUND;case dt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case dt.ABORTED:return I.ABORTED;case dt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case dt.DATA_LOSS:return I.DATA_LOSS;default:return j()}}(q=dt||(dt={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||Ct.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zi(this.root,t,this.comparator,!1)}getReverseIterator(){return new zi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zi(this.root,t,this.comparator,!0)}}class zi{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ct{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:Ct.RED,this.left=i!=null?i:Ct.EMPTY,this.right=s!=null?s:Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ct(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const t=this.left.check();if(t!==this.right.check())throw j();return t+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new bh(this.data.getIterator())}getIteratorFrom(t){return new bh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof St)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new St(this.comparator);return n.data=t,n}}class bh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Ut(U.comparator);function Qe(){return Xv}const Qv=new Ut(U.comparator);function fa(){return Qv}new Ut(U.comparator);const Jv=new St(U.comparator);function at(...e){let t=Jv;for(const n of e)t=t.add(n);return t}const Zv=new St(J);function Ih(){return Zv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n){const r=new Map;return r.set(t,Ir.createSynthesizedTargetChangeForCurrentChange(t,n)),new Gi(Q.min(),r,Ih(),Qe(),at())}}class Ir{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n){return new Ir(Nt.EMPTY_BYTE_STRING,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,n,r,i){this.k=t,this.removedTargetIds=n,this.key=r,this.$=i}}class Ch{constructor(t,n){this.targetId=t,this.O=n}}class Sh{constructor(t,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _h{constructor(){this.F=0,this.M=Nh(),this.L=Nt.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return this.F!==0}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=at(),n=at(),r=at();return this.M.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Ir(this.L,this.B,t,n,r)}G(){this.U=!1,this.M=Nh()}H(t,n){this.U=!0,this.M=this.M.insert(t,n)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class tw{constructor(t){this.tt=t,this.et=new Map,this.nt=Qe(),this.st=Ah(),this.it=new St(J)}rt(t){for(const n of t.k)t.$&&t.$.isFoundDocument()?this.ot(n,t.$):this.at(n,t.key,t.$);for(const n of t.removedTargetIds)this.at(n,t.key,t.$)}ct(t){this.forEachTarget(t,n=>{const r=this.ut(n);switch(t.state){case 0:this.ht(n)&&r.j(t.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(t.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(n);break;case 3:this.ht(n)&&(r.Z(),r.j(t.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),r.j(t.resumeToken));break;default:j()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.et.forEach((r,i)=>{this.ht(i)&&n(i)})}ft(t){const n=t.targetId,r=t.O.count,i=this.dt(n);if(i){const s=i.target;if(ia(s))if(r===0){const o=new U(s.path);this.at(n,o,Dt.newNoDocument(o,Q.min()))}else ht(r===1);else this.wt(n)!==r&&(this.lt(n),this.it=this.it.add(n))}}_t(t){const n=new Map;this.et.forEach((s,o)=>{const a=this.dt(o);if(a){if(s.current&&ia(a.target)){const u=new U(a.target.path);this.nt.get(u)!==null||this.gt(o,u)||this.at(o,u,Dt.newNoDocument(u,t))}s.K&&(n.set(o,s.W()),s.G())}});let r=at();this.st.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.dt(u);return!l||l.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Gi(t,n,this.it,this.nt,r);return this.nt=Qe(),this.st=Ah(),this.it=new St(J),i}ot(t,n){if(!this.ht(t))return;const r=this.gt(t,n.key)?2:0;this.ut(t).H(n.key,r),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(t))}at(t,n,r){if(!this.ht(t))return;const i=this.ut(t);this.gt(t,n)?i.H(n,1):i.J(n),this.st=this.st.insert(n,this.yt(n).delete(t)),r&&(this.nt=this.nt.insert(n,r))}removeTarget(t){this.et.delete(t)}wt(t){const n=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let n=this.et.get(t);return n||(n=new _h,this.et.set(t,n)),n}yt(t){let n=this.st.get(t);return n||(n=new St(J),this.st=this.st.insert(t,n)),n}ht(t){const n=this.dt(t)!==null;return n||k("WatchChangeAggregator","Detected inactive target",t),n}dt(t){const n=this.et.get(t);return n&&n.q?null:this.tt.Et(t)}lt(t){this.et.set(t,new _h),this.tt.getRemoteKeysForTarget(t).forEach(n=>{this.at(t,n,null)})}gt(t,n){return this.tt.getRemoteKeysForTarget(t).has(n)}}function Ah(){return new Ut(U.comparator)}function Nh(){return new Ut(U.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nw=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class rw{constructor(t,n){this.databaseId=t,this.D=n}}function da(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dh(e,t){return e.D?t.toBase64():t.toUint8Array()}function Cr(e){return ht(!!e),Q.fromTimestamp(function(t){const n=xe(t);return new Xt(n.seconds,n.nanos)}(e))}function xh(e,t){return function(n){return new lt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Oh(e){const t=lt.fromString(e);return ht(Fh(t)),t}function pa(e,t){const n=Oh(t);if(n.get(1)!==e.databaseId.projectId)throw new O(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new O(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new U(Mh(n))}function ga(e,t){return xh(e.databaseId,t)}function iw(e){const t=Oh(e);return t.length===4?lt.emptyPath():Mh(t)}function Rh(e){return new lt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mh(e){return ht(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function sw(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,l){return u.D?(ht(l===void 0||typeof l=="string"),Nt.fromBase64String(l||"")):(ht(l===void 0||l instanceof Uint8Array),Nt.fromUint8Array(l||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const l=u.code===void 0?I.UNKNOWN:Th(u.code);return new O(l,u.message||"")}(o);n=new Sh(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pa(e,r.document.name),s=Cr(r.document.updateTime),o=new ve({mapValue:{fields:r.document.fields}}),a=Dt.newFoundDocument(i,s,o),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Yi(u,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pa(e,r.document),s=r.readTime?Cr(r.readTime):Q.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yi([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pa(e,r.document),s=r.removedTargetIds||[];n=new Yi([],s,i,null)}else{if(!("filter"in t))return j();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new Yv(i),o=r.targetId;n=new Ch(o,s)}}return n}function ow(e,t){return{documents:[ga(e,t.path)]}}function aw(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ga(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ga(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length===0)return;const u=a.map(l=>function(c){if(c.op==="=="){if(Jc(c.value))return{unaryFilter:{field:Nn(c.field),op:"IS_NAN"}};if(Qc(c.value))return{unaryFilter:{field:Nn(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(Jc(c.value))return{unaryFilter:{field:Nn(c.field),op:"IS_NOT_NAN"}};if(Qc(c.value))return{unaryFilter:{field:Nn(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nn(c.field),op:hw(c.op),value:c.value}}}(l));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(u=>function(l){return{field:Nn(l.field),direction:cw(l.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(a,u){return a.D||_n(u)?u:{value:u}}(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=kh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=kh(t.endAt)),n}function uw(e){let t=iw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=Ph(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Er(Dn(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,_n(f)?null:f}(n.limit));let u=null;n.startAt&&(u=Lh(n.startAt));let l=null;return n.endAt&&(l=Lh(n.endAt)),$v(t,i,o,s,a,"F",u,l)}function lw(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ph(e){return e?e.unaryFilter!==void 0?[dw(e)]:e.fieldFilter!==void 0?[fw(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>Ph(t)).reduce((t,n)=>t.concat(n)):j():[]}function kh(e){return{before:e.before,values:e.position}}function Lh(e){const t=!!e.before,n=e.values||[];return new sa(n,t)}function cw(e){return ew[e]}function hw(e){return nw[e]}function Nn(e){return{fieldPath:e.canonicalString()}}function Dn(e){return Qt.fromServerFormat(e.fieldPath)}function fw(e){return Ft.create(Dn(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return j()}}(e.fieldFilter.op),e.fieldFilter.value)}function dw(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dn(e.unaryFilter.field);return Ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Dn(e.unaryFilter.field);return Ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dn(e.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Dn(e.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return j()}}function Fh(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}const pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):A.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):A.reject(n)}static resolve(t){return new A((n,r)=>{n(t)})}static reject(t){return new A((n,r)=>{r(t)})}static waitFor(t){return new A((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=A.resolve(!1);for(const r of t)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Sr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Gv(s,t,r[i])}}applyToLocalView(t){for(const n of this.baseMutations)n.key.isEqual(t.key)&&ca(n,t,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(t.key)&&ca(n,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(n=>{const r=t.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Q.min())})}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),at())}isEqual(t){return this.batchId===t.batchId&&pr(this.mutations,t.mutations,(n,r)=>gh(n,r))&&pr(this.baseMutations,t.baseMutations,(n,r)=>gh(n,r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,i,s=Q.min(),o=Q.min(),a=Nt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Je(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Je(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Je(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.Wt=t}}function vw(e){const t=uw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.Gt=new Ew}addToCollectionParentIndex(t,n){return this.Gt.add(n),A.resolve()}getCollectionParents(t,n){return A.resolve(this.Gt.getEntries(n))}}class Ew{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new St(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new St(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new xn(0)}static ie(){return new xn(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==pw)throw e;k("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(t){gr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Kc(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.changes=new _r(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}getReadTime(t){const n=this.changes.get(t);return n?n.readTime:Q.min()}addEntry(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})}removeEntry(t,n=null){this.assertNotApplied(),this.changes.set(t,{document:Dt.newInvalidDocument(t),readTime:n})}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r.document):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n,r){this.He=t,this.In=n,this.Ht=r}An(t,n){return this.In.getAllMutationBatchesAffectingDocumentKey(t,n).next(r=>this.Rn(t,n,r))}Rn(t,n,r){return this.He.getEntry(t,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(t,n){t.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Pn(t,n){return this.He.getEntries(t,n).next(r=>this.vn(t,r).next(()=>r))}vn(t,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return U.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Vn(t,n.path):sh(n)?this.Sn(t,n,r):this.Dn(t,n,r)}Vn(t,n){return this.An(t,new U(n)).next(r=>{let i=fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(t,n,r){const i=n.collectionGroup;let s=fa();return this.Ht.getCollectionParents(t,i).next(o=>A.forEach(o,a=>{const u=function(l,c){return new Tr(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.Dn(t,u,r).next(l=>{l.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}Dn(t,n,r){let i,s;return this.He.getDocumentsMatchingQuery(t,n,r).next(o=>(i=o,this.In.getAllMutationBatchesAffectingQuery(t,n))).next(o=>(s=o,this.Cn(t,s,i).next(a=>{i=a;for(const u of s)for(const l of u.mutations){const c=l.key;let f=i.get(c);f==null&&(f=Dt.newInvalidDocument(c),i=i.insert(c,f)),ca(l,f,u.localWriteTime),f.isFoundDocument()||(i=i.remove(c))}}))).next(()=>(i.forEach((o,a)=>{qi(n,a)||(i=i.remove(o))}),i))}Cn(t,n,r){let i=at();for(const o of n)for(const a of o.mutations)a instanceof ha&&r.get(a.key)===null&&(i=i.add(a.key));let s=r;return this.He.getEntries(t,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}static kn(t,n){let r=at(),i=at();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ya(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{$n(t){this.On=t}getDocumentsMatchingQuery(t,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Q.min())?this.Fn(t,n):this.On.Pn(t,i).next(s=>{const o=this.Mn(n,s);return(Vi(n)||$i(n))&&this.Ln(n.limitType,o,i,r)?this.Fn(t,n):(Bc()<=z.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aa(n)),this.On.getDocumentsMatchingQuery(t,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))})}Mn(t,n){let r=new St(ah(t));return n.forEach((i,s)=>{qi(t,s)&&(r=r.add(s))}),r}Ln(t,n,r,i){if(r.size!==n.size)return!0;const s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(t,n){return Bc()<=z.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",aa(n)),this.On.getDocumentsMatchingQuery(t,n,Q.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,n,r,i){this.persistence=t,this.Bn=n,this.N=i,this.Un=new Ut(J),this.qn=new _r(s=>na(s),ra),this.Kn=Q.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Uh(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Un))}}function Cw(e,t,n,r){return new Iw(e,t,n,r)}async function Vh(e,t){const n=W(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(t),i=new Uh(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const l=[],c=[];let f=at();for(const p of a){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of u){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return i.Pn(o,f).next(p=>({Wn:p,removedBatchIds:l,addedBatchIds:c}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function $h(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ze.getLastRemoteSnapshotVersion(n))}function Sw(e,t){const n=W(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];t.targetChanges.forEach((l,c)=>{const f=i.get(c);if(!f)return;a.push(n.ze.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.ze.addMatchingKeys(s,l.addedDocuments,c)));const p=l.resumeToken;if(p.approximateByteSize()>0){const m=f.withResumeToken(p,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(c,m),function(C,P,_){return ht(P.resumeToken.approximateByteSize()>0),C.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,l)&&a.push(n.ze.updateTargetData(s,m))}});let u=Qe();if(t.documentUpdates.forEach((l,c)=>{t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(_w(s,o,t.documentUpdates,r,void 0).next(l=>{u=l})),!r.isEqual(Q.min())){const l=n.ze.getLastRemoteSnapshotVersion(s).next(c=>n.ze.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.Qn.vn(s,u)).next(()=>u)}).then(s=>(n.Un=i,s))}function _w(e,t,n,r,i){let s=at();return n.forEach(o=>s=s.add(o)),t.getEntries(e,s).next(o=>{let a=Qe();return n.forEach((u,l)=>{const c=o.get(u),f=(i==null?void 0:i.get(u))||r;l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(u,f),a=a.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),a=a.insert(u,l)):k("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),a})}function Aw(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ze.getTargetData(r,t).next(s=>s?(i=s,A.resolve(i)):n.ze.allocateTargetId(r).next(o=>(i=new Je(t,o,0,r.currentSequenceNumber),n.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Un.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(r.targetId,r),n.qn.set(t,r.targetId)),r})}async function va(e,t,n){const r=W(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sr(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function jh(e,t,n){const r=W(e);let i=Q.min(),s=at();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=W(a),f=c.qn.get(l);return f!==void 0?A.resolve(c.Un.get(f)):c.ze.getTargetData(u,l)}(r,o,Xe(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bn.getDocumentsMatchingQuery(o,t,n?i:Q.min(),n?s:at())).next(a=>({documents:a,Gn:s})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return A.resolve(this.Yn.get(n))}saveBundleMetadata(t,n){var r;return this.Yn.set(n.id,{id:(r=n).id,version:r.version,createTime:Cr(r.createTime)}),A.resolve()}getNamedQuery(t,n){return A.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:vw(r.bundledQuery),readTime:Cr(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.Zn=new St(yt.ts),this.es=new St(yt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,n){const r=new yt(t,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.rs(new yt(t,n))}os(t,n){t.forEach(r=>this.removeReference(r,n))}cs(t){const n=new U(new lt([])),r=new yt(n,t),i=new yt(n,t+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const n=new U(new lt([])),r=new yt(n,t),i=new yt(n,t+1);let s=at();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new yt(t,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yt{constructor(t,n){this.key=t,this.ls=n}static ts(t,n){return U.comparator(t.key,n.key)||J(t.ls,n.ls)}static ns(t,n){return J(t.ls,n.ls)||U.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n){this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new St(yt.ts)}checkEmpty(t){return A.resolve(this.In.length===0)}addMutationBatch(t,n,r,i){const s=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new mw(s,n,r,i);this.In.push(o);for(const a of i)this.ds=this.ds.add(new yt(a.key,s)),this.Ht.addToCollectionParentIndex(t,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(t,n){return A.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this._s(r),s=i<0?0:i;return A.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.In.length===0?-1:this.fs-1)}getAllMutationBatches(t){return A.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this.ws(o.ls);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new St(J);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),A.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new yt(new U(s),0);let a=new St(J);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),A.resolve(this.gs(a))}gs(t){const n=[];return t.forEach(r=>{const i=this.ws(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ht(this.ys(n.batchId,"removed")===0),this.In.shift();let r=this.ds;return A.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}te(t){}containsKey(t,n){const r=new yt(n,0),i=this.ds.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.In.length,A.resolve()}ys(t,n){return this._s(t)}_s(t){return this.In.length===0?0:t-this.In[0].batchId}ws(t){const n=this._s(t);return n<0||n>=this.In.length?null:this.In[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n){this.Ht=t,this.ps=n,this.docs=new Ut(U.comparator),this.size=0}addEntry(t,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.ps(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Ht.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return A.resolve(r?r.document.clone():Dt.newInvalidDocument(n))}getEntries(t,n){let r=Qe();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Dt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(t,n,r){let i=Qe();const s=new U(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:l}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;l.compareTo(r)<=0||qi(n,u)&&(i=i.insert(u.key,u.clone()))}return A.resolve(i)}Es(t,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Ow(this)}getSize(t){return A.resolve(this.size)}}class Ow extends Tw{constructor(t){super(),this.Se=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.Se.addEntry(t,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),A.waitFor(n)}getFromCache(t,n){return this.Se.getEntry(t,n)}getAllFromCache(t,n){return this.Se.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.persistence=t,this.Ts=new _r(n=>na(n),ra),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Is=0,this.As=new wa,this.targetCount=0,this.Rs=xn.se()}forEachTarget(t,n){return this.Ts.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(t){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return A.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Is&&(this.Is=n),A.resolve()}ae(t){this.Ts.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Rs=new xn(n),this.highestTargetId=n),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,n){return this.ae(n),this.targetCount+=1,A.resolve()}updateTargetData(t,n){return this.ae(n),A.resolve()}removeTargetData(t,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(t){return A.resolve(this.targetCount)}getTargetData(t,n){const r=this.Ts.get(n)||null;return A.resolve(r)}addMatchingKeys(t,n,r){return this.As.ss(n,r),A.resolve()}removeMatchingKeys(t,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.As.cs(n),A.resolve()}getMatchingKeysForTargetId(t,n){const r=this.As.hs(n);return A.resolve(r)}containsKey(t,n){return A.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.bs={},this.Le=new Xo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new Rw(this),this.Ht=new ww,this.He=function(r,i){return new xw(r,i)}(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new yw(n),this.Je=new Nw(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let n=this.bs[t.toKey()];return n||(n=new Dw(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,n,r){k("MemoryPersistence","Starting transaction:",t);const i=new Pw(this.Le.next());return this.referenceDelegate.vs(),r(i).next(s=>this.referenceDelegate.Vs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ss(t,n){return A.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,n)))}}class Pw extends gw{constructor(t){super(),this.currentSequenceNumber=t}}class Ea{constructor(t){this.persistence=t,this.Ds=new wa,this.Cs=null}static Ns(t){return new Ea(t)}get xs(){if(this.Cs)return this.Cs;throw j()}addReference(t,n,r){return this.Ds.addReference(r,n),this.xs.delete(r.toString()),A.resolve()}removeReference(t,n,r){return this.Ds.removeReference(r,n),this.xs.add(r.toString()),A.resolve()}markPotentiallyOrphaned(t,n){return this.xs.add(n.toString()),A.resolve()}removeTarget(t,n){this.Ds.cs(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}vs(){this.Cs=new Set}Vs(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.xs,r=>{const i=U.fromPath(r);return this.ks(t,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Cs=null,n.apply(t)))}updateLimboDocument(t,n){return this.ks(t,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(t){return 0}ks(t,n){return A.or([()=>A.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ss(t,n)])}}class qh{constructor(){this.activeTargetIds=Ih()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kw{constructor(){this.yi=new qh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,n,r){this.pi[t]=n}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new qh,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{Ei(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,n,r,i){const s=this.Bi(t,n);k("RestConnection","Sending: ",s,r);const o={};return this.Ui(o,i),this.qi(t,s,o,r).then(a=>(k("RestConnection","Received: ",a),a),a=>{throw Hc("RestConnection",`${t} failed with error: `,a,"url: ",s,"request:",r),a})}Ki(t,n,r,i){return this.Li(t,n,r,i)}Ui(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+In,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])}Bi(t,n){const r=Fw[t];return`${this.Fi}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,n,r,i){return new Promise((s,o)=>{const a=new vv;a.listenOnce(gv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Go.NO_ERROR:const l=a.getResponseJson();k("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Go.TIMEOUT:k("Connection",'RPC "'+t+'" timed out'),o(new O(I.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const c=a.getStatus();if(k("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const f=a.getResponseJson().error;if(f&&f.status&&f.message){const p=function(m){const C=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(C)>=0?C:I.UNKNOWN}(f.status);o(new O(p,f.message))}else o(new O(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new O(I.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{k("Connection",'RPC "'+t+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ji(t,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=dv(),s=pv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new yv({})),this.Ui(o.initMessageHeaders,n),dm()||gm()||mm()||ym()||vm()||pm()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");k("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let l=!1,c=!1;const f=new Uw({vi:m=>{c?k("Connection","Not sending because WebChannel is closed:",m):(l||(k("Connection","Opening WebChannel transport."),u.open(),l=!0),k("Connection","WebChannel sending:",m),u.send(m))},Vi:()=>u.close()}),p=(m,C,P)=>{m.listen(C,_=>{try{P(_)}catch(D){setTimeout(()=>{throw D},0)}})};return p(u,Li.EventType.OPEN,()=>{c||k("Connection","WebChannel transport opened.")}),p(u,Li.EventType.CLOSE,()=>{c||(c=!0,k("Connection","WebChannel transport closed"),f.$i())}),p(u,Li.EventType.ERROR,m=>{c||(c=!0,Hc("Connection","WebChannel transport errored:",m),f.$i(new O(I.UNAVAILABLE,"The operation could not be completed")))}),p(u,Li.EventType.MESSAGE,m=>{var C;if(!c){const P=m.data[0];ht(!!P);const _=P,D=_.error||((C=_[0])===null||C===void 0?void 0:C.error);if(D){k("Connection","WebChannel received error:",D);const G=D.status;let Y=function(xt){const ne=dt[xt];if(ne!==void 0)return Th(ne)}(G),nt=D.message;Y===void 0&&(Y=I.INTERNAL,nt="Unknown error status: "+G+" with message "+D.message),c=!0,f.$i(new O(Y,nt)),u.close()}else k("Connection","WebChannel received:",P),f.Oi(P)}}),p(s,mv.STAT_EVENT,m=>{m.stat===qc.PROXY?k("Connection","Detected buffering proxy"):m.stat===qc.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.ki()},0),f}}function Ta(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e){return new rw(e,!0)}class Hh{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){this.Hi!==null&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){this.Hi!==null&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n,r,i,s,o){this.Oe=t,this.er=r,this.nr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Hh(t,n)}ar(){return this.state===1||this.state===2||this.state===4}cr(){return this.state===2}start(){this.state!==3?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&this.ir===null&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(t,n){this._r(),this.rr.cancel(),this.sr++,t!==3?this.rr.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(De(n.toString()),De("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):n&&n.code===I.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),this.stream!==null&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ci(n)}mr(){}auth(){this.state=1;const t=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===n&&this.yr(r)},r=>{t(()=>{const i=new O(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(i)})})}yr(t){const n=this.gr(this.sr);this.stream=this.Er(t),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{n(()=>this.pr(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}ur(){this.state=4,this.rr.Xi(async()=>{this.state=0,this.start()})}pr(t){return k("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return n=>{this.Oe.enqueueAndForget(()=>this.sr===t?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jw extends $w{constructor(t,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle",n,r,s),this.N=i}Er(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const n=sw(this.N,t),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Cr(s.readTime):Q.min()}(t);return this.listener.Tr(n,r)}Ir(t){const n={};n.database=Rh(this.N),n.addTarget=function(i,s){let o;const a=s.target;return o=ia(a)?{documents:ow(i,a)}:{query:aw(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Dh(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=da(i,s.snapshotVersion.toTimestamp())),o}(this.N,t);const r=lw(this.N,t);r&&(n.labels=r),this.wr(n)}Ar(t){const n={};n.database=Rh(this.N),n.removeTarget=t,this.wr(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends class{}{constructor(t,n,r){super(),this.credentials=t,this.nr=n,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new O(I.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,n,r){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Li(t,n,r,i)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new O(I.UNKNOWN,i.toString())})}Ki(t,n,r){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Ki(t,n,r,i)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new O(I.UNKNOWN,i.toString())})}terminate(){this.Dr=!0}}class Bw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){this.Nr===0&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){this.state==="Online"?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,t==="Online"&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(De(n),this.$r=!1):k("OnlineStateTracker",n)}Br(){this.kr!==null&&(this.kr.cancel(),this.kr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=s,this.Qr.Ei(o=>{r.enqueueAndForget(async()=>{Nr(this)&&(k("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=W(a);u.Kr.add(4),await Ar(u),u.Wr.set("Unknown"),u.Kr.delete(4),await Qi(u)}(this))})}),this.Wr=new Bw(r,i)}}async function Qi(e){if(Nr(e))for(const t of e.jr)await t(!0)}async function Ar(e){for(const t of e.jr)await t(!1)}function Wh(e,t){const n=W(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Ca(n)?Ia(n):On(n).cr()&&ba(n,t))}function Kh(e,t){const n=W(e),r=On(n);n.qr.delete(t),r.cr()&&zh(n,t),n.qr.size===0&&(r.cr()?r.lr():Nr(n)&&n.Wr.set("Unknown"))}function ba(e,t){e.Gr.Y(t.targetId),On(e).Ir(t)}function zh(e,t){e.Gr.Y(t),On(e).Ar(t)}function Ia(e){e.Gr=new tw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),On(e).start(),e.Wr.Or()}function Ca(e){return Nr(e)&&!On(e).ar()&&e.qr.size>0}function Nr(e){return W(e).Kr.size===0}function Gh(e){e.Gr=void 0}async function Ww(e){e.qr.forEach((t,n)=>{ba(e,t)})}async function Kw(e,t){Gh(e),Ca(e)?(e.Wr.Lr(t),Ia(e)):e.Wr.set("Unknown")}async function zw(e,t,n){if(e.Wr.set("Online"),t instanceof Sh&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.qr.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.qr.delete(o),r.Gr.removeTarget(o))}(e,t)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yh(e,r)}else if(t instanceof Yi?e.Gr.rt(t):t instanceof Ch?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Q.min()))try{const r=await $h(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Gr._t(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.qr.get(u);l&&i.qr.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.qr.get(a);if(!u)return;i.qr.set(a,u.withResumeToken(Nt.EMPTY_BYTE_STRING,u.snapshotVersion)),zh(i,a);const l=new Je(u.target,a,1,u.sequenceNumber);ba(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){k("RemoteStore","Failed to raise snapshot:",r),await Yh(e,r)}}async function Yh(e,t,n){if(!Sr(t))throw t;e.Kr.add(1),await Ar(e),e.Wr.set("Offline"),n||(n=()=>$h(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{k("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Qi(e)})}async function Gw(e,t){const n=W(e);t?(n.Kr.delete(2),await Qi(n)):t||(n.Kr.add(2),await Ar(n),n.Wr.set("Unknown"))}function On(e){return e.zr||(e.zr=function(t,n,r){const i=W(t);return i.Cr(),new jw(n,i.nr,i.credentials,i.N,r)}(e.datastore,e.asyncQueue,{Si:Ww.bind(null,e),Ci:Kw.bind(null,e),Tr:zw.bind(null,e)}),e.jr.push(async t=>{t?(e.zr.hr(),Ca(e)?Ia(e):e.Wr.set("Unknown")):(await e.zr.stop(),Gh(e))})),e.zr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Sa(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xh(e,t){if(De("AsyncQueue",`${t}: ${e}`),Sr(e))return new O(I.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.comparator=t?(n,r)=>t(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=fa(),this.sortedSet=new Ut(this.comparator)}static emptySet(t){return new Rn(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Rn)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Rn;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.Jr=new Ut(U.comparator)}track(t){const n=t.doc.key,r=this.Jr.get(n);r?t.type!==0&&r.type===3?this.Jr=this.Jr.insert(n,t):t.type===3&&r.type!==1?this.Jr=this.Jr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Jr=this.Jr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Jr=this.Jr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Jr=this.Jr.remove(n):t.type===1&&r.type===2?this.Jr=this.Jr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Jr=this.Jr.insert(n,{type:2,doc:t.doc}):j():this.Jr=this.Jr.insert(n,t)}Yr(){const t=[];return this.Jr.inorderTraversal((n,r)=>{t.push(r)}),t}}class Mn{constructor(t,n,r,i,s,o,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(t,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Mn(t,n,Rn.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ji(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Xr=void 0,this.listeners=[]}}class Xw{constructor(){this.queries=new _r(t=>oh(t),ji),this.onlineState="Unknown",this.Zr=new Set}}async function Qw(e,t){const n=W(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Yw),i)try{s.Xr=await n.onListen(r)}catch(o){const a=Xh(o,`Initialization of query '${aa(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&_a(n)}async function Jw(e,t){const n=W(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Zw(e,t){const n=W(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.no(i)&&(r=!0);o.Xr=i}}r&&_a(n)}function t0(e,t,n){const r=W(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function _a(e){e.Zr.forEach(t=>{t.next()})}class e0{constructor(t,n,r){this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Mn(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let n=!1;return this.io?this.oo(t)&&(this.so.next(t),n=!0):this.ao(t,this.onlineState)&&(this.co(t),n=!0),this.ro=t,n}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),n=!0),n}ao(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.uo||!r)&&(!t.docs.isEmpty()||n==="Offline")}oo(t){if(t.docChanges.length>0)return!0;const n=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}co(t){t=Mn.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this.key=t}}class Zh{constructor(t){this.key=t}}class n0{constructor(t,n){this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=at(),this.mutatedKeys=at(),this.po=ah(t),this.Eo=new Rn(this.po)}get To(){return this._o}Io(t,n){const r=n?n.Ao:new Qh,i=n?n.Eo:this.Eo;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Vi(this.query)&&i.size===this.query.limit?i.last():null,l=$i(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const p=i.get(c),m=qi(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),P=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?C!==P&&(r.track({type:3,doc:m}),_=!0):this.Ro(p,m)||(r.track({type:2,doc:m}),_=!0,(u&&this.po(m,u)>0||l&&this.po(m,l)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(u||l)&&(a=!0)),_&&(m?(o=o.add(m),s=P?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),Vi(this.query)||$i(this.query))for(;o.size>this.query.limit;){const c=Vi(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Eo:o,Ao:r,Ln:a,mutatedKeys:s}}Ro(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;const s=t.Ao.Yr();s.sort((l,c)=>function(f,p){const m=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return m(f)-m(p)}(l.type,c.type)||this.po(l.doc,c.doc)),this.bo(r);const o=n?this.Po():[],a=this.yo.size===0&&this.current?1:0,u=a!==this.mo;return this.mo=a,s.length!==0||u?{snapshot:new Mn(this.query,t.Eo,i,s,t.mutatedKeys,a===0,u,!1),vo:o}:{vo:o}}eo(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Qh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(n=>this._o=this._o.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=at(),this.Eo.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const n=[];return t.forEach(r=>{this.yo.has(r)||n.push(new Zh(r))}),this.yo.forEach(r=>{t.has(r)||n.push(new Jh(r))}),n}So(t){this._o=t.Gn,this.yo=at();const n=this.Io(t.documents);return this.applyChanges(n,!0)}Do(){return Mn.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,this.mo===0)}}class r0{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class i0{constructor(t){this.key=t,this.Co=!1}}class s0{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new _r(a=>oh(a),ji),this.ko=new Map,this.$o=new Set,this.Oo=new Ut(U.comparator),this.Fo=new Map,this.Mo=new wa,this.Lo={},this.Bo=new Map,this.Uo=xn.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return this.qo===!0}}async function o0(e,t){const n=d0(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const o=await Aw(n.localStore,Xe(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await a0(n,t,r,a==="current"),n.isPrimaryClient&&Wh(n.remoteStore,o)}return i}async function a0(e,t,n,r){e.Ko=(c,f,p)=>async function(m,C,P,_){let D=C.view.Io(P);D.Ln&&(D=await jh(m.localStore,C.query,!1).then(({documents:nt})=>C.view.Io(nt,D)));const G=_&&_.targetChanges.get(C.targetId),Y=C.view.applyChanges(D,m.isPrimaryClient,G);return rf(m,C.targetId,Y.vo),Y.snapshot}(e,c,f,p);const i=await jh(e.localStore,t,!0),s=new n0(t,i.Gn),o=s.Io(i.documents),a=Ir.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=s.applyChanges(o,e.isPrimaryClient,a);rf(e,n,u.vo);const l=new r0(t,n,s);return e.xo.set(t,l),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot}async function u0(e,t){const n=W(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(s=>!ji(s,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kh(n.remoteStore,r.targetId),Aa(n,r.targetId)}).catch(ma)):(Aa(n,r.targetId),await va(n.localStore,r.targetId,!0))}async function tf(e,t){const n=W(e);try{const r=await Sw(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Fo.get(s);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Co=!0:i.modifiedDocuments.size>0?ht(o.Co):i.removedDocuments.size>0&&(ht(o.Co),o.Co=!1))}),await sf(n,r,t)}catch(r){await ma(r)}}function ef(e,t,n){const r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xo.forEach((s,o)=>{const a=o.view.eo(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=W(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const f of c.listeners)f.eo(o)&&(u=!0)}),u&&_a(a)}(r.eventManager,t),i.length&&r.No.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function l0(e,t,n){const r=W(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let o=new Ut(U.comparator);o=o.insert(s,Dt.newNoDocument(s,Q.min()));const a=at().add(s),u=new Gi(Q.min(),new Map,new St(J),o,a);await tf(r,u),r.Oo=r.Oo.remove(s),r.Fo.delete(t),Na(r)}else await va(r.localStore,t,!1).then(()=>Aa(r,t,n)).catch(ma)}function Aa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(r=>{e.Mo.containsKey(r)||nf(e,r)})}function nf(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);n!==null&&(Kh(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Na(e))}function rf(e,t,n){for(const r of n)r instanceof Jh?(e.Mo.addReference(r.key,t),c0(e,r)):r instanceof Zh?(k("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||nf(e,r.key)):j()}function c0(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(k("SyncEngine","New document in limbo: "+n),e.$o.add(r),Na(e))}function Na(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new U(lt.fromString(t)),r=e.Uo.next();e.Fo.set(r,new i0(n)),e.Oo=e.Oo.insert(n,r),Wh(e.remoteStore,new Je(Xe(oa(n.path)),r,2,Xo.T))}}async function sf(e,t,n){const r=W(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach((a,u)=>{o.push(r.Ko(u,t,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=ya.kn(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.No.Tr(i),await async function(a,u){const l=W(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>A.forEach(u,f=>A.forEach(f.Nn,p=>l.persistence.referenceDelegate.addReference(c,f.targetId,p)).next(()=>A.forEach(f.xn,p=>l.persistence.referenceDelegate.removeReference(c,f.targetId,p)))))}catch(c){if(!Sr(c))throw c;k("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const p=l.Un.get(f),m=p.snapshotVersion,C=p.withLastLimboFreeSnapshotVersion(m);l.Un=l.Un.insert(f,C)}}}(r.localStore,s))}async function h0(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){k("SyncEngine","User change. New user:",t.toKey());const r=await Vh(n.localStore,t);n.currentUser=t,function(i,s){i.Bo.forEach(o=>{o.forEach(a=>{a.reject(new O(I.CANCELLED,s))})}),i.Bo.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sf(n,r.Wn)}}function f0(e,t){const n=W(e),r=n.Fo.get(t);if(r&&r.Co)return at().add(r.key);{let i=at();const s=n.ko.get(t);if(!s)return i;for(const o of s){const a=n.xo.get(o);i=i.unionWith(a.view.To)}return i}}function d0(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l0.bind(null,t),t.No.Tr=Zw.bind(null,t.eventManager),t.No.jo=t0.bind(null,t.eventManager),t}class p0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.N=Xi(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),await this.persistence.start(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t)}zo(t){return null}Ho(t){return Cw(this.persistence,new bw,t.initialUser,this.N)}Go(t){return new Mw(Ea.Ns,this.N)}Wo(t){return new kw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class g0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ef(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h0.bind(null,this.syncEngine),await Gw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Xw}createDatastore(t){const n=Xi(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new Vw(i));var i;return function(s,o,a){return new qw(s,o,a)}(t.credentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>ef(this.syncEngine,a,0),o=Bh.bt()?new Bh:new Lw,new Hw(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,u,l){const c=new s0(r,i,s,o,a,u);return l&&(c.qo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=W(t);k("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),await Ar(n),n.Qr.shutdown(),n.Wr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n,r){this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=jt.UNAUTHENTICATED,this.clientId=Sv.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,async i=>{k("FirestoreClient","Received user=",i.uid),await this.credentialListener(i),this.user=i})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),t.resolve()}catch(n){const r=Xh(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function v0(e,t){e.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vh(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function w0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await E0(e);k("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>async function(s,o){const a=W(s);a.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");const u=Nr(a);a.Kr.add(3),await Ar(a),u&&a.Wr.set("Unknown"),await a.remoteSyncer.handleCredentialChange(o),a.Kr.delete(3),await Qi(a)}(t.remoteStore,i)),e.onlineComponents=t}async function E0(e){return e.offlineComponents||(k("FirestoreClient","Using default OfflineComponentProvider"),await v0(e,new p0)),e.offlineComponents}async function T0(e){return e.onlineComponents||(k("FirestoreClient","Using default OnlineComponentProvider"),await w0(e,new g0)),e.onlineComponents}async function of(e){const t=await T0(e),n=t.eventManager;return n.onListen=o0.bind(null,t.syncEngine),n.onUnlisten=u0.bind(null,t.syncEngine),n}class b0{constructor(t,n,r,i,s,o,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Dr{constructor(t,n){this.projectId=t,this.database=n||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Dr&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e,t,n){if(!n)throw new O(I.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function C0(e,t,n,r){if(t===!0&&r===!0)throw new O(I.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function uf(e){if(U.isDocumentKey(e))throw new O(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ji(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":j()}function Da(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new O(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ji(e);throw new O(I.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new O(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new O(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,C0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lf({}),this._settingsFrozen=!1,t instanceof Dr?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new O(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dr(r.options.projectId)}(t))}get app(){if(!this._app)throw new O(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new O(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lf(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Ev;switch(n.type){case"gapi":const r=n.client;return ht(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Iv(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new O(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=af.get(t);n&&(k("ComponentProvider","Removing Datastore"),af.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}}class xr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xr(this.firestore,t,this._query)}}class Pn extends xr{constructor(t,n,r){super(t,n,oa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new U(t))}withConverter(t){return new Pn(this.firestore,t,this._path)}}function nE(e,t,...n){if(e=Yn(e),I0("collection","path",t),e instanceof cf){const r=lt.fromString(t,...n);return uf(r),new Pn(e,null,r)}{if(!(e instanceof ce||e instanceof Pn))throw new O(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lt.fromString(t,...n));return uf(r),new Pn(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Hh(this,"async_queue_retry"),this.Ea=()=>{const n=Ta();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const t=Ta();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ta(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const n=Ta();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(t){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Cn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}async Aa(){if(this.da.length!==0){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(t){if(!Sr(t))throw t;k("AsyncQueue","Operation failed with retryable error: "+t)}this.da.length>0&&this.rr.Xi(()=>this.Aa())}}Ia(t){const n=this.fa.then(()=>(this.ga=!0,t().catch(r=>{throw this.ma=r,this.ga=!1,De("INTERNAL UNHANDLED ERROR: ",function(i){let s=i.message||"";return i.stack&&(s=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),s}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=n,n}enqueueAfterDelay(t,n,r){this.Ta(),this.pa.indexOf(t)>-1&&(n=0);const i=Sa.createAndSchedule(this,t,n,r,s=>this.Ra(s));return this._a.push(i),i}Ta(){this.ma&&j()}verifyOperationInProgress(){}async ba(){let t;do t=this.fa,await t;while(t!==this.fa)}Pa(t){for(const n of this._a)if(n.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._a)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const n=this._a.indexOf(t);this._a.splice(n,1)}}function hf(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class xa extends cf{constructor(t,n){super(t,n),this.type="firestore",this._queue=new S0,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ff(this),this._firestoreClient.terminate()}}function rE(e=cy()){return oy(e,"firestore").getImmediate()}function _0(e){return e._firestoreClient||ff(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ff(e){var t;const n=e._freezeSettings(),r=function(i,s,o,a){return new b0(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new y0(e._credentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new O(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Nt.fromBase64String(t))}catch(n){throw new O(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new kn(Nt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new O(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new O(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return J(this._lat,t._lat)||J(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=/^__.*__$/;function gf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Ra{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Sa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new Ra(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Ca({path:r,xa:!1});return i.ka(t),i}$a(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Ca({path:r,xa:!1});return i.Sa(),i}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return Pa(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(t.length===0)throw this.Fa("Document fields must not be empty");if(gf(this.Da)&&A0.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class N0{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Xi(t)}Ba(t,n,r,i=!1){return new Ra({Da:t,methodName:n,La:r,path:Qt.emptyPath(),xa:!1,Ma:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function D0(e){const t=e._freezeSettings(),n=Xi(e._databaseId);return new N0(e._databaseId,!!t.ignoreUndefinedProperties,n)}function x0(e,t,n,r=!1){return Ma(n,e.Ba(r?4:3,t))}function Ma(e,t){if(mf(e=Yn(e)))return R0("Unsupported field value:",t,e),O0(e,t);if(e instanceof pf)return function(n,r){if(!gf(r.Da))throw r.Fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&t.Da!==4)throw t.Fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ma(o,r.Oa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Yn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Bv(r.N,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xt.fromDate(n);return{timestampValue:da(r.N,i)}}if(n instanceof Xt){const i=new Xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:da(r.N,i)}}if(n instanceof Oa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof kn)return{bytesValue:Dh(r.N,n._byteString)};if(n instanceof ce){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xh(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Fa(`Unsupported field value: ${Ji(n)}`)}(e,t)}function O0(e,t){const n={};return Kc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(e,(r,i)=>{const s=Ma(i,t.Na(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mf(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof Oa||e instanceof kn||e instanceof ce||e instanceof pf)}function R0(e,t,n){if(!mf(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ji(n);throw r==="an object"?t.Fa(e+" a custom object"):t.Fa(e+" "+r)}}const M0=new RegExp("[~\\*/\\[\\]]");function P0(e,t,n){if(t.search(M0)>=0)throw Pa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new df(...t.split("."))._internalPath}catch(r){throw Pa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pa(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new O(I.INVALID_ARGUMENT,a+e+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ka("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k0 extends yf{data(){return super.data()}}function ka(e,t){return typeof t=="string"?P0(e,t):t instanceof df?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vf extends yf{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ka("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zi extends vf{data(t={}){return super.data(t)}}class L0{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Or(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Zi(this._firestore,this._userDataWriter,r.key,r,new Or(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Zi(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Or(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zi(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Or(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:F0(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F0(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e){if($i(e)&&e.explicitOrderBy.length===0)throw new O(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V0{}function iE(e,...t){for(const n of t)e=n._apply(e);return e}class $0 extends V0{constructor(t,n,r){super(),this.Ka=t,this.ja=n,this.Qa=r,this.type="where"}_apply(t){const n=D0(t.firestore),r=function(i,s,o,a,u,l,c){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new O(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on FieldPath.documentId().`);if(l==="in"||l==="not-in"){Ef(c,l);const m=[];for(const C of c)m.push(wf(a,i,C));f={arrayValue:{values:m}}}else f=wf(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Ef(c,l),f=x0(o,s,c,l==="in"||l==="not-in");const p=Ft.create(u,l,f);return function(m,C){if(C.v()){const _=ih(m);if(_!==null&&!_.isEqual(C.field))throw new O(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${C.field.toString()}'`);const D=rh(m);D!==null&&j0(m,C.field,D)}const P=function(_,D){for(const G of _.filters)if(D.indexOf(G.op)>=0)return G.op;return null}(m,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(P!==null)throw P===C.op?new O(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${C.op.toString()}' filter.`):new O(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${C.op.toString()}' filters with '${P.toString()}' filters.`)}(i,p),p}(t._query,"where",n,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new xr(t.firestore,t.converter,function(i,s){const o=i.filters.concat([s]);return new Tr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function sE(e,t,n){const r=t,i=ka("where",e);return new $0(i,r,n)}function wf(e,t,n){if(typeof(n=Yn(n))=="string"){if(n==="")throw new O(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sh(t)&&n.indexOf("/")!==-1)throw new O(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lt.fromString(n));if(!U.isDocumentKey(r))throw new O(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xc(e,new U(r))}if(n instanceof ce)return Xc(e,n._key);throw new O(I.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ji(n)}.`)}function Ef(e,t){if(!Array.isArray(e)||e.length===0)throw new O(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new O(I.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function j0(e,t,n){if(!n.isEqual(t))throw new O(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{convertValue(t,n="none"){switch(Ye(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Sn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw j()}}convertObject(t,n){const r={};return gr(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Oa(ft(t.latitude),ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Gc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yr(t));default:return null}}convertTimestamp(t){const n=xe(t);return new Xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=lt.fromString(t);ht(Fh(r));const i=new Dr(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||De(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Tf extends q0{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,n)}}function oE(e,...t){var n,r,i;e=Yn(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||hf(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hf(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,c;if(e instanceof ce)l=Da(e.firestore,xa),c=oa(e._key.path),u={next:f=>{t[o]&&t[o](B0(l,e,f))},error:t[o+1],complete:t[o+2]};else{const f=Da(e,xr);l=Da(f.firestore,xa),c=f._query;const p=new Tf(l);u={next:m=>{t[o]&&t[o](new L0(l,p,f,m))},error:t[o+1],complete:t[o+2]},U0(e._query)}return function(f,p,m,C){const P=new m0(C),_=new e0(p,P,m);return f.asyncQueue.enqueueAndForget(async()=>Qw(await of(f),_)),()=>{P.Xo(),f.asyncQueue.enqueueAndForget(async()=>Jw(await of(f),_))}}(_0(l),c,a,u)}function B0(e,t,n){const r=n.docs.get(t._key),i=new Tf(e);return new vf(e,i,t._key,r,new Or(n.hasPendingWrites,n.fromCache),t.converter)}var H0;(function(e){In=e})(ly),no(new ai("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new xa(n,new Tv(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),ci("@firebase/firestore","3.1.0",H0);var W0="firebase",K0="9.1.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(W0,K0,"app");export{rE as $,iE as F,sE as L,nE as R,zu as a,oe as b,Q0 as c,Y0 as d,J0 as e,X0 as f,oE as g,tE as h,eE as i,Z0 as j,Du as o,G0 as r,Xt as s,z0 as t,pd as u};
